var Ai=Object.defineProperty;var $i=(i,e,t)=>e in i?Ai(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var r=(i,e,t)=>($i(i,typeof e!="symbol"?e+"":e,t),t);import{i as ti,d as W,a as C,o as b,f as A,w as g,g as s,t as a,n as ei,e as j,h as z,b as u,c as P,j as D,k as n,F as V,l as Pi,m as bi,p as xi,q as Si,v as Mi,x as q,y as si,z as gi,r as H,A as Hi,B as Ni,u as Vi,C as Ui}from"./index-k91ZQD-w.js";import{_ as Di}from"./_plugin-vue_export-helper-x3n3nnut.js";var f=(i=>(i[i.Unknown=0]="Unknown",i[i.Human=1]="Human",i[i.HumanNoble=2]="HumanNoble",i[i.HumanNortherner=3]="HumanNortherner",i[i.HumanNomad=4]="HumanNomad",i[i.HumanForester=5]="HumanForester",i[i.HumanVersatile=6]="HumanVersatile",i[i.HumanCohesive=7]="HumanCohesive",i[i.Elf=8]="Elf",i[i.ElfWild=9]="ElfWild",i[i.ElfHigh=10]="ElfHigh",i[i.ElfNight=11]="ElfNight",i[i.ElfBlood=12]="ElfBlood",i[i.Dwarf=13]="Dwarf",i[i.DwarfUnderground=14]="DwarfUnderground",i[i.DwarfMountain=15]="DwarfMountain",i[i.DwarfLight=16]="DwarfLight",i[i.DwarfFire=17]="DwarfFire",i[i.Halfling=18]="Halfling",i[i.HalfOrc=19]="HalfOrc",i[i.Gnome=20]="Gnome",i[i.Dragonborn=21]="Dragonborn",i[i.Tiefling=22]="Tiefling",i))(f||{}),c=(i=>(i[i.Unknown=0]="Unknown",i[i.Strength=1]="Strength",i[i.Dexterity=2]="Dexterity",i[i.Constitution=3]="Constitution",i[i.Intelligence=4]="Intelligence",i[i.Wisdom=5]="Wisdom",i[i.Charisma=6]="Charisma",i))(c||{}),l=(i=>(i[i.Unknown=0]="Unknown",i[i.Athletics=1]="Athletics",i[i.Acrobatics=2]="Acrobatics",i[i.SleightOfHand=3]="SleightOfHand",i[i.Stealth=4]="Stealth",i[i.History=5]="History",i[i.Arcana=6]="Arcana",i[i.Religion=7]="Religion",i[i.Investigation=8]="Investigation",i[i.Nature=9]="Nature",i[i.Medicine=10]="Medicine",i[i.AnimalHandling=11]="AnimalHandling",i[i.Survival=12]="Survival",i[i.Perception=13]="Perception",i[i.Insight=14]="Insight",i[i.Deception=15]="Deception",i[i.Persuasion=16]="Persuasion",i[i.Performance=17]="Performance",i[i.Intimidation=18]="Intimidation",i))(l||{});const{t:Ii}=ti.global;class Y{constructor(e){r(this,"race");r(this,"name");r(this,"speed",0);r(this,"hitPointAdditionPerLevel",0);r(this,"castingAbility",c.Unknown);r(this,"abilityAdditionsToChoose",new Array);r(this,"abilityAdditionsMaxChoices",0);r(this,"abilityAdditions",new Array);r(this,"skillToChoose",new Array);r(this,"skillToChooseMaxChoices",0);r(this,"skillToExpertise",0);r(this,"skills",new Array);this.race=e,this.name=Ii(`enums.RaceEnum.${f[e]}`)}}var yi=(i=>(i[i.k0=0]="k0",i[i.k3=3]="k3",i[i.k4=4]="k4",i[i.k6=6]="k6",i[i.k8=8]="k8",i[i.k10=10]="k10",i[i.k12=12]="k12",i[i.k20=20]="k20",i))(yi||{});const mi=1;function li(i){let e=0;return i>=1&&i<=4&&(e=2),i>=5&&i<=8&&(e=3),i>=9&&i<=12&&(e=4),i>=13&&i<=16&&(e=5),i>=17&&i<=20&&(e=6),e}function Bi(i){return i.modifier}class ai{constructor(){r(this,"name","");r(this,"player","");r(this,"level",1);r(this,"bonus",0);r(this,"initiative",0)}update(e){this.calculate(e)}calculate(e){this.bonus=li(this.level),this.initiative=Bi(e)}}class ni{constructor(){r(this,"light",0);r(this,"medium",0);r(this,"heavy",0)}update(e){this.calculate(e)}calculate(e){this.light=e,this.medium=e-1,this.heavy=e-3}}class J{constructor(){r(this,"maxHitPoints",0);r(this,"dice",yi.k0);r(this,"diceNumber",0)}update(e,t,o){this.maxHitPoints=e,this.dice=t,this.diceNumber=o}}class ri{constructor(){r(this,"natural",0)}update(e){this.calculate(e)}calculate(e){this.natural=10+e.modifier}}var K=(i=>(i[i.Unknown=0]="Unknown",i[i.Alchemist=1]="Alchemist",i[i.Barbarian=2]="Barbarian",i[i.Bard=3]="Bard",i[i.Fighter=4]="Fighter",i[i.Wizard=5]="Wizard",i[i.Warlock=6]="Warlock",i[i.Druid=7]="Druid",i[i.Cleric=8]="Cleric",i[i.Mage=9]="Mage",i[i.BloodHunter=10]="BloodHunter",i[i.Rogue=11]="Rogue",i))(K||{});const{t:ji}=ti.global;class Z{constructor(e){r(this,"characterClass");r(this,"name");r(this,"hitPoints",new J);r(this,"skillToChoose",new Array);r(this,"skillToChooseMaxChoices",0);r(this,"skillToExpertise",0);r(this,"skills",new Array);r(this,"savingThrows",new Array);r(this,"difficultyClass",0);this.characterClass=e,this.name=ji(`enums.CharacterClassEnum.${K[e]}`)}}var O=(i=>(i[i.Unknown=0]="Unknown",i[i.Acolyte=1]="Acolyte",i[i.Herbalist=2]="Herbalist",i[i.Worker=3]="Worker",i[i.Breeder=4]="Breeder",i[i.Shopkeeper=5]="Shopkeeper",i[i.Hunter=6]="Hunter",i[i.Sage=7]="Sage",i[i.Thief=8]="Thief",i[i.Lawyer=9]="Lawyer",i[i.Butler=10]="Butler",i[i.Guard=11]="Guard",i[i.Noble=12]="Noble",i[i.Official=13]="Official",i[i.Soldier=14]="Soldier",i[i.Initiate=15]="Initiate",i[i.Brigand=16]="Brigand",i))(O||{});const{t:Wi}=ti.global;class R{constructor(e){r(this,"origin");r(this,"name");r(this,"skills",new Array);this.origin=e,this.name=O[e],this.name=Wi(`enums.OriginEnum.${O[e]}`)}}var y=(i=>(i[i.None=0]="None",i[i.Proficient=1]="Proficient",i[i.Expert=2]="Expert",i))(y||{});function di(i){const e=c.Unknown;return i===l.Athletics?c.Strength:i===l.Acrobatics||i===l.SleightOfHand||i===l.Stealth?c.Dexterity:i===l.History||i===l.Arcana||i===l.Religion||i===l.Investigation||i===l.Nature?c.Intelligence:i===l.Medicine||i===l.AnimalHandling||i===l.Survival||i===l.Perception||i===l.Insight?c.Wisdom:i===l.Deception||i===l.Persuasion||i===l.Performance||i===l.Intimidation?c.Charisma:e}function Fi(i){return i===l.Athletics||i===l.Acrobatics||i===l.Stealth||i===l.Insight||i===l.Perception}function ci(i,e){let t=0;return i===y.Proficient&&(t=t+e),i===y.Expert&&(t=t+e+e),t}class ki{constructor(e,t,o){r(this,"name");r(this,"skill");r(this,"abilityModifier");r(this,"level");r(this,"value",0);this.name=l[e],this.skill=e,this.abilityModifier=t,this.level=o}calculateValue(){}update(e){this.name=e.name,this.skill=e.skill,this.abilityModifier=e.abilityModifier,this.level=e.level,this.calculateValue()}}class Li extends ki{calculateValue(){this.value=vi.getPassive(this.abilityModifier,this.level,li(mi))}}class zi extends ki{calculateValue(){this.value=vi.getActive(this.abilityModifier,this.level,li(mi))}}class hi{static createPassiveSkill(e,t,o){const d=new Li(e,t.modifier,o);return d.calculateValue(),d}static createActiveSkill(e,t,o){const d=new zi(e,t.modifier,o);return d.calculateValue(),d}}class vi{static getPassive(e,t,o){return 10+e+ci(t,o)}static getActive(e,t,o){return e+ci(t,o)}}class Q{constructor(){r(this,"skills",new Array)}get(e){return this.skills.find(t=>t.skill===e)}upsert(e){const t=this.get(e.skill);t?t.update(e):this.skills.push(e)}}function Oi(i){let e=0;return i>=0&&i<=1&&(e=-5),i>=2&&i<=3&&(e=-4),i>=4&&i<=5&&(e=-3),i>=6&&i<=7&&(e=-2),i>=8&&i<=9&&(e=-1),i>=10&&i<=11&&(e=0),i>=12&&i<=13&&(e=1),i>=14&&i<=15&&(e=2),i>=16&&i<=17&&(e=3),i>=18&&i<=19&&(e=4),i>=20&&i<=21&&(e=5),i>=22&&i<=23&&(e=6),i>=24&&i<=25&&(e=7),i>=26&&i<=27&&(e=8),i>=28&&i<=29&&(e=9),i>=30&&(e=10),e}class F{constructor(e,t,o=0){r(this,"name");r(this,"ability");r(this,"value");r(this,"modifier");this.name=c[e],this.ability=e,this.value=t,this.modifier=o}updateValue(e){this.value=e,this.calculateModifier()}calculateModifier(){this.modifier=Oi(this.value)}}class qi{constructor(){r(this,"strength",0);r(this,"dexterity",0);r(this,"constitution",0);r(this,"intelligence",0);r(this,"wisdom",0);r(this,"charisma",0)}set(e,t){switch(e){case c.Strength:this.strength=t;break;case c.Dexterity:this.dexterity=t;break;case c.Constitution:this.constitution=t;break;case c.Intelligence:this.intelligence=t;break;case c.Wisdom:this.wisdom=t;break;case c.Charisma:this.charisma=t;break}}}class Ci{constructor(){r(this,"abilities",new Array);r(this,"rolls",new qi);this.abilities.push(new F(c.Strength,0)),this.abilities.push(new F(c.Dexterity,0)),this.abilities.push(new F(c.Constitution,0)),this.abilities.push(new F(c.Intelligence,0)),this.abilities.push(new F(c.Wisdom,0)),this.abilities.push(new F(c.Charisma,0))}get(e){return this.abilities.find(t=>t.ability===e)}}class ui extends Ci{update(e,t){this.rolls.set(e,t),this.abilities.find(d=>d.ability===e).updateValue(t)}}class fi extends Ci{update(e,t,o){const d=this.abilities.find(p=>p.ability===e.ability),x=e.modifier+(t?o:0);d.updateValue(x)}}class oi{constructor(e,t,o,d,x,p,w,_,$,k,m){r(this,"basics");r(this,"speed");r(this,"defense");r(this,"hitPoints");r(this,"abilities");r(this,"skills");r(this,"passives");r(this,"savings");r(this,"race");r(this,"characterClass");r(this,"origin");this.basics=e,this.speed=t,this.defense=o,this.hitPoints=d,this.abilities=x,this.skills=p,this.passives=w,this.savings=_,this.race=$,this.characterClass=k,this.origin=m}}const T=W({__name:"InfoChip",props:{label:{type:String,required:!0},value:{type:String,required:!1,default:""},font:{type:String,required:!1,default:"text-md"}},setup(i){return(e,t)=>{const o=C("p-badge"),d=C("p-chip");return b(),A(d,{class:ei(["flex flex-row justify-between gap-2",i.value?"pr-0":""])},{default:g(()=>[s("span",{class:ei(i.font)},a(i.label),3),i.value?(b(),A(o,{key:0,class:ei(i.font)},{default:g(()=>[j(a(i.value),1)]),_:1},8,["class"])):z("",!0)]),_:1},8,["class"])}}}),Gi={class:"text-xl"},Xi={class:"flex flex-row gap-16"},Ji={class:"flex flex-row w-80 justify-start items-start gap-8"},Ki={class:"flex flex-col gap-4 w-40 justify-between h-full"},Qi={class:"flex flex-col rounded-md pa-2 bg-gray-700 px-2"},Yi={class:"text-lg"},Zi={class:"text-xs"},Ri={class:"flex flex-col rounded-md pa-2 bg-gray-700 px-2"},Ei={class:"text-lg"},ie={class:"text-xs"},ee={class:"flex flex-col gap-4 w-40 justify-between h-full"},se={class:"flex flex-col rounded-md pa-2 bg-gray-700 px-2"},te={class:"text-lg"},le={class:"text-xs"},oe=s("div",{class:"flex flex-col rounded-md pa-2 bg-gray-700 px-2"},[s("span",{class:"text-lg"},"/"),s("span",{class:"text-xs"},"TODO Alignment")],-1),ae={class:"flex flex-col w-80 items-center justify-between gap-4"},ne={class:"flex flex-col rounded-md pa-2 bg-gray-700 px-2 w-full items-center"},re={class:"text-xl"},de={class:"text-xs"},ce={class:"flex flex-col w-80 justify-start items-start gap-8"},he={class:"flex flex-row gap-4"},ue={class:"flex flex-col w-36 justify-start items-start rounded-md pa-2 bg-gray-700 px-2"},fe={class:"text-lg"},pe={class:"text-xs"},be=s("div",{class:"flex flex-col rounded-md w-40 pa-2 bg-gray-700 px-2"},[s("span",{class:"text-lg"},"0"),s("span",{class:"text-xs"},"TODO Experience")],-1),xe={class:"flex flex-col justify-start items-start"},ge={class:"flex flex-col justify-start items-start w-80 rounded-md pa-2 bg-gray-700 px-2"},ye={class:"text-lg"},me={class:"text-xs"},ke={class:"flex flex-col gap-8"},ve={class:"flex flex-row gap-8"},Ce={class:"flex flex-col gap-6"},_e={class:"flex flex-col"},we={class:"flex flex-row gap-4"},Te={class:"flex flex-col justify-start items-start w-40 rounded-md pa-2 bg-gray-700 px-2"},Ae={class:"text-lg"},$e={class:"text-xs"},Pe=s("div",{class:"flex flex-col justify-start items-start w-40 rounded-md pa-2 bg-gray-700 px-2"},[s("span",{class:"text-lg"},"X"),s("span",{class:"text-xs"},"TODO Initiative")],-1),Se={class:"flex flex-col justify-start items-start w-40 rounded-md pa-2 bg-gray-700 px-2"},Me={class:"text-lg"},He={class:"text-xs"},Ne={class:"flex flex-row mt-4 gap-4"},Ve={class:"flex flex-col gap-2 w-40"},Ue={class:"flex flex-col justify-start w-full items-start rounded-md pa-2 bg-purple-950 px-2"},De={class:"text-lg"},Ie={class:"flex flex-col"},Be={class:"flex-flex-col"},je={class:"flex flex-col gap-1"},We={class:"flex-flex-col"},Fe={class:"flex flex-col gap-1"},Le={class:"flex-flex-col"},ze={class:"flex flex-col gap-1"},Oe={class:"flex-flex-col"},qe={class:"flex flex-col gap-1"},Ge={class:"flex flex-col gap-2",style:{width:"21rem"}},Xe={class:"flex-flex-col gap-2"},Je={class:"flex flex-col justify-start w-full items-start rounded-md pa-2 bg-purple-950 px-2"},Ke={class:"text-lg"},Qe={class:"w-full flex-row flex justify-between gap-2 p-4"},Ye=s("div",{class:"flex flex-col justify-start items-start rounded-md w-24 pa-2 bg-gray-700 px-2"},[s("span",{class:"text-lg"},"X"),s("span",{class:"text-xs"},"TODO Armor")],-1),Ze={class:"flex flex-col justify-start items-start w-24 rounded-md pa-2 bg-gray-700 px-2"},Re={class:"text-lg"},Ee={class:"text-xs"},is=s("div",{class:"flex flex-col justify-start items-start rounded-md w-24 pa-2 bg-gray-700 px-2"},[s("span",{class:"text-lg"},"X"),s("span",{class:"text-xs"},"TODO Shield")],-1),es={class:"flex flex-row gap-4"},ss={class:"flex flex-col gap-4 w-40"},ts={class:"flex flex-col justify-start w-full items-start rounded-md pa-2 bg-purple-950 px-2"},ls={class:"text-lg"},os={class:"flex flex-col gap-2"},as={class:"flex flex-col w-40 gap-4"},ns={class:"flex flex-col justify-start w-full items-start rounded-md pa-2 bg-purple-950 px-2"},rs={class:"text-lg"},ds={class:"flex flex-col gap-2"},cs={class:"flex flex-col w-80"},hs={class:"flex flex-col"},us={class:"flex flex-col justify-start w-full items-start rounded-md pa-2 bg-purple-950 px-2"},fs={class:"text-lg"},ps={class:"w-full flex-row flex justify-between gap-2 p-4"},bs={class:"flex flex-col justify-start items-start rounded-md w-24 pa-2 bg-gray-700 px-2"},xs={class:"text-lg"},gs={class:"text-xs"},ys={class:"flex flex-col justify-start items-start w-24 rounded-md pa-2 bg-gray-700 px-2"},ms={class:"text-lg"},ks={class:"text-xs"},vs={class:"flex flex-col justify-start items-start rounded-md w-24 pa-2 bg-gray-700 px-2"},Cs={class:"text-lg"},_s={class:"text-xs"},ws={class:"flex flex-col"},Ts={class:"flex flex-col justify-start w-full items-start rounded-md pa-2 bg-purple-950 px-2"},As={class:"text-lg"},$s={class:"w-full flex-row flex justify-between gap-2 p-4"},Ps={class:"flex flex-col justify-start items-start rounded-md w-36 pa-2 bg-gray-700 px-2"},Ss={class:"text-lg"},Ms={class:"text-xs"},Hs={class:"flex flex-col justify-start items-start w-36 rounded-md pa-2 bg-gray-700 px-2"},Ns={class:"text-lg"},Vs={class:"text-xs"},Us=W({__name:"CharacterCard",props:{character:{type:oi,required:!0},isVisible:{type:Boolean,required:!0}},emits:["close"],setup(i,{emit:e}){const t=i;function o(d){return t.character.skills.skills.find(x=>x.skill===d)}return(d,x)=>{const p=C("p-image"),w=C("p-card"),_=C("p-dialog");return b(),A(_,{visible:i.isVisible,"onUpdate:visible":x[0]||(x[0]=$=>d.$emit("close"))},{header:g(()=>[s("span",Gi,a(d.$t("character")),1)]),default:g(()=>[s("div",Xi,[s("div",Ji,[s("div",Ki,[s("div",Qi,[s("span",Yi,a(i.character.race.name),1),s("span",Zi,a(d.$t("race")),1)]),s("div",Ri,[s("span",Ei,a(i.character.origin.name),1),s("span",ie,a(d.$t("origin")),1)])]),s("div",ee,[s("div",se,[s("span",te,a(i.character.characterClass.name),1),s("span",le,a(d.$t("characterClass")),1)]),oe])]),s("div",ae,[u(p,{"image-class":"w-56",src:"./assets/images/jad_logo.png"}),s("div",ne,[s("span",re,a(i.character.basics.name),1),s("span",de,a(d.$t("name")),1)])]),s("div",ce,[s("div",he,[s("div",ue,[s("span",fe,a(i.character.basics.level),1),s("span",pe,a(d.$t("level")),1)]),be]),s("div",xe,[s("div",ge,[s("span",ye,a(i.character.basics.player),1),s("span",me,a(d.$t("player")),1)])])])]),u(w,{class:"border border-gray-900 my-8"},{content:g(()=>{var $,k;return[s("div",ke,[s("div",ve,[s("div",Ce,[(b(!0),P(V,null,D(i.character.abilities.abilities,m=>(b(),A(T,{font:"text-lg",label:d.$t(`enums.AbilityEnum.${n(c)[m.ability]}`),value:`${m.value} (${m.modifier})`},null,8,["label","value"]))),256))]),s("div",_e,[s("div",we,[s("div",Te,[s("span",Ae,a((($=i.character.basics)==null?void 0:$.bonus)??0),1),s("span",$e,a(d.$t("proficiencyBonus")),1)]),Pe,s("div",Se,[s("span",Me,a(((k=i.character.basics)==null?void 0:k.initiative)??0),1),s("span",He,a(d.$t("initiative")),1)])]),s("div",Ne,[s("div",Ve,[s("div",Ue,[s("span",De,a(d.$t("abilities")),1)]),s("div",Ie,[s("span",null,a(d.$t("strength")),1),u(T,{label:o(n(l).Athletics).name,value:o(n(l).Athletics).value},null,8,["label","value"])]),s("div",Be,[s("span",null,a(d.$t("dexterity")),1),s("div",je,[u(T,{label:o(n(l).Acrobatics).name,value:o(n(l).Acrobatics).value},null,8,["label","value"]),u(T,{label:o(n(l).SleightOfHand).name,value:o(n(l).SleightOfHand).value},null,8,["label","value"]),u(T,{label:o(n(l).Stealth).name,value:o(n(l).Stealth).value},null,8,["label","value"])])]),s("div",We,[s("span",null,a(d.$t("intelligence")),1),s("div",Fe,[u(T,{label:o(n(l).History).name,value:o(n(l).History).value},null,8,["label","value"]),u(T,{label:o(n(l).Arcana).name,value:o(n(l).Arcana).value},null,8,["label","value"]),u(T,{label:o(n(l).Religion).name,value:o(n(l).Religion).value},null,8,["label","value"]),u(T,{label:o(n(l).Investigation).name,value:o(n(l).Investigation).value},null,8,["label","value"]),u(T,{label:o(n(l).Nature).name,value:o(n(l).Nature).value},null,8,["label","value"])])]),s("div",Le,[s("span",null,a(d.$t("wisdom")),1),s("div",ze,[u(T,{label:o(n(l).Medicine).name,value:o(n(l).Medicine).value},null,8,["label","value"]),u(T,{label:o(n(l).AnimalHandling).name,value:o(n(l).AnimalHandling).value},null,8,["label","value"]),u(T,{label:o(n(l).Survival).name,value:o(n(l).Survival).value},null,8,["label","value"]),u(T,{label:o(n(l).Perception).name,value:o(n(l).Perception).value},null,8,["label","value"]),u(T,{label:o(n(l).Insight).name,value:o(n(l).Insight).value},null,8,["label","value"])])]),s("div",Oe,[s("span",null,a(d.$t("charisma")),1),s("div",qe,[u(T,{label:o(n(l).Deception).name,value:o(n(l).Deception).value},null,8,["label","value"]),u(T,{label:o(n(l).Persuasion).name,value:o(n(l).Persuasion).value},null,8,["label","value"]),u(T,{label:o(n(l).Performance).name,value:o(n(l).Performance).value},null,8,["label","value"]),u(T,{label:o(n(l).Intimidation).name,value:o(n(l).Intimidation).value},null,8,["label","value"])])])]),s("div",Ge,[s("div",Xe,[s("div",Je,[s("span",Ke,a(d.$t("defense")),1)]),s("div",Qe,[Ye,s("div",Ze,[s("span",Re,a(i.character.defense.natural),1),s("span",Ee,a(d.$t("defenseNatural")),1)]),is])]),s("div",es,[s("div",ss,[s("div",ts,[s("span",ls,a(d.$t("savingThrows")),1)]),s("div",os,[(b(!0),P(V,null,D(i.character.savings.abilities,m=>(b(),A(T,{label:m.name,value:m.value},null,8,["label","value"]))),256))])]),s("div",as,[s("div",ns,[s("span",rs,a(d.$t("passiveSkills")),1)]),s("div",ds,[(b(!0),P(V,null,D(i.character.passives.skills,m=>(b(),A(T,{label:m.name,value:m.value},null,8,["label","value"]))),256))])])])])])]),s("div",cs,[s("div",hs,[s("div",us,[s("span",fs,a(d.$t("speed")),1)]),s("div",ps,[s("div",bs,[s("span",xs,a(i.character.speed.light),1),s("span",gs,a(d.$t("lightLoad")),1)]),s("div",ys,[s("span",ms,a(i.character.speed.medium),1),s("span",ks,a(d.$t("mediumLoad")),1)]),s("div",vs,[s("span",Cs,a(i.character.speed.heavy),1),s("span",_s,a(d.$t("heavyLoad")),1)])])]),s("div",ws,[s("div",Ts,[s("span",As,a(d.$t("hp")),1)]),s("div",$s,[s("div",Ps,[s("span",Ss,a(i.character.hitPoints.maxHitPoints),1),s("span",Ms,a(d.$t("maxHP")),1)]),s("div",Hs,[s("span",Ns,a(`${i.character.hitPoints.diceNumber}k${i.character.hitPoints.dice}`),1),s("span",Vs,a(d.$t("dices")),1)])])])])])])]}),_:1})]),_:1},8,["visible"])}}}),_i={toFirestore:i=>({basics:{name:i.basics.name,player:i.basics.player,level:i.basics.level},speed:{light:i.speed.light,medium:i.speed.medium,heavy:i.speed.heavy},defense:{natural:i.defense.natural},hitPoints:{maxHitPoints:i.hitPoints.maxHitPoints,dice:i.hitPoints.dice,diceNumber:i.hitPoints.diceNumber},abilities:{abilities:i.abilities.abilities.map(e=>({name:e.name,ability:e.ability,value:e.value,modifier:e.modifier})),rolls:{strength:i.abilities.rolls.strength,dexterity:i.abilities.rolls.dexterity,constitution:i.abilities.rolls.constitution,intelligence:i.abilities.rolls.intelligence,wisdom:i.abilities.rolls.wisdom,charisma:i.abilities.rolls.charisma}},skills:{skills:i.skills.skills.map(e=>({name:e.name,skill:e.skill,abilityModifier:e.abilityModifier,level:e.level,value:e.value}))},passives:{skills:i.passives.skills.map(e=>({name:e.name,skill:e.skill,abilityModifier:e.abilityModifier,level:e.level,value:e.value}))},savings:{abilities:i.savings.abilities.map(e=>({name:e.name,ability:e.ability,value:e.value,modifier:e.modifier})),rolls:{strength:i.abilities.rolls.strength,dexterity:i.abilities.rolls.dexterity,constitution:i.abilities.rolls.constitution,intelligence:i.abilities.rolls.intelligence,wisdom:i.abilities.rolls.wisdom,charisma:i.abilities.rolls.charisma}},race:{race:i.race.race,name:i.race.name,speed:i.race.speed,hitPointAdditionPerLevel:i.race.hitPointAdditionPerLevel,abilityAdditionsToChoose:i.race.abilityAdditionsToChoose.map(e=>({ability:e.ability,addition:e.addition})),abilityAdditionsMaxChoices:i.race.abilityAdditionsMaxChoices,abilityAdditions:i.race.abilityAdditions.map(e=>({ability:e.ability,addition:e.addition})),skillToChoose:i.race.skillToChoose.map(e=>({skill:e})),skillToChooseMaxChoices:i.race.skillToChooseMaxChoices,skillToExpertise:i.race.skillToExpertise,skills:i.race.skills.map(e=>({skill:e}))},characterClass:{characterClass:i.characterClass.characterClass,name:i.characterClass.name,hitPoints:{maxHitPoints:i.characterClass.hitPoints.maxHitPoints,dice:i.characterClass.hitPoints.dice,diceNumber:i.characterClass.hitPoints.diceNumber},skillToChoose:i.race.skillToChoose.map(e=>({skill:e})),skillToChooseMaxChoices:i.race.skillToChooseMaxChoices,skillToExpertise:i.race.skillToExpertise,skills:i.race.skills.map(e=>({skill:e})),savingThrows:i.characterClass.savingThrows.map(e=>({ability:e})),difficultyClass:i.characterClass.difficultyClass},origin:{origin:i.origin.origin,name:i.origin.name,skills:i.race.skills.map(e=>({skill:e}))}}),fromFirestore:(i,e)=>{const t=i.data(e);return new oi(t.basics,t.speed,t.defense,t.hitPoints,t.abilities,t.skills,t.passives,t.savings,t.race,t.characterClass,t.origin)}},wi="characters";function pi(){return Pi(bi(xi,wi).withConverter(_i))}async function Ds(i){const e=Si(bi(xi,wi)).withConverter(_i);await Mi(e,i)}const Ti=q("useFirebaseStore",()=>{let i=pi();async function e(t){await Ds(t),i=pi()}return{characters:i,pushCharacter:e}}),G=q("character",{state:()=>({basics:new ai,speed:new ni,defense:new ri,hitPoints:new J,abilities:new ui,skills:new Q,passives:new Q,savings:new fi,race:new Y(f.Unknown),characterClass:new Z(K.Unknown),origin:new R(O.Unknown),characters:new Array}),getters:{getCharacter(){return new oi(this.basics,this.speed,this.defense,this.hitPoints,this.abilities,this.skills,this.passives,this.savings,this.race,this.characterClass,this.origin)},getCharacters(){return this.characters}},actions:{initCharacter(){this.generateSkills(),this.generatePassives(),this.generateSavings()},resetCharacter(){this.basics=new ai,this.speed=new ni,this.defense=new ri,this.hitPoints=new J,this.abilities=new ui,this.skills=new Q,this.passives=new Q,this.savings=new fi,this.race=new Y(f.Unknown),this.characterClass=new Z(K.Unknown),this.origin=new R(O.Unknown),this.initCharacter()},setBasics(i,e,t=0){this.basics.name=i,this.basics.player=e,this.basics.level=t,this.calculateBasics()},calculateBasics(){const i=this.abilities.get(c.Dexterity);this.basics.update(i),this.defense.update(i)},setSpeed(i){this.speed.update(i)},setHitPoints(i,e=0){this.hitPoints.update(i,e,this.basics.level)},setThrow(i,e){this.abilities.update(i,e),this.calculateBasics()},upsertSkill(i,e){this.skills.upsert(hi.createActiveSkill(i,this.abilities.get(di(i)),e)),Fi(i)&&this.upsertPassiveSkill(i,e)},upsertPassiveSkill(i,e){this.passives.upsert(hi.createPassiveSkill(i,this.abilities.get(di(i)),e))},upsertSavingThrow(i,e){const t=this.abilities.get(i);this.savings.update(t,e,this.basics.bonus)},setRace(i){this.race=i,this.setSpeed(i.speed),this.race.abilityAdditions.forEach(e=>{this.abilities.update(e.ability,this.abilities.get(e.ability).value+e.addition)});for(const e of i.skills)this.upsertSkill(e,this.skills.get(e).level===y.Proficient?y.Expert:y.Proficient)},setOrigin(i){this.origin=i;for(const e of i.skills)this.upsertSkill(e,this.skills.get(e).level===y.Proficient?y.Expert:y.Proficient)},setCharacterClass(i){this.characterClass=i,this.setHitPoints(i.hitPoints.dice,i.hitPoints.maxHitPoints);for(const e of i.skills)this.upsertSkill(e,this.skills.get(e).level===y.Proficient?y.Expert:y.Proficient);for(const e of i.savingThrows)this.upsertSavingThrow(e,!0)},generateSkills(){this.upsertSkill(l.Athletics,y.None),this.upsertSkill(l.Acrobatics,y.None),this.upsertSkill(l.SleightOfHand,y.None),this.upsertSkill(l.Stealth,y.None),this.upsertSkill(l.History,y.None),this.upsertSkill(l.Arcana,y.None),this.upsertSkill(l.Religion,y.None),this.upsertSkill(l.Investigation,y.None),this.upsertSkill(l.Nature,y.None),this.upsertSkill(l.Medicine,y.None),this.upsertSkill(l.AnimalHandling,y.None),this.upsertSkill(l.Survival,y.None),this.upsertSkill(l.Perception,y.None),this.upsertSkill(l.Insight,y.None),this.upsertSkill(l.Deception,y.None),this.upsertSkill(l.Persuasion,y.None),this.upsertSkill(l.Performance,y.None),this.upsertSkill(l.Intimidation,y.None)},generatePassives(){this.upsertPassiveSkill(l.Athletics,y.None),this.upsertPassiveSkill(l.Acrobatics,y.None),this.upsertPassiveSkill(l.Stealth,y.None),this.upsertPassiveSkill(l.Insight,y.None),this.upsertPassiveSkill(l.Perception,y.None)},generateSavings(){this.upsertSavingThrow(c.Strength,!1),this.upsertSavingThrow(c.Dexterity,!1),this.upsertSavingThrow(c.Constitution,!1),this.upsertSavingThrow(c.Intelligence,!1),this.upsertSavingThrow(c.Wisdom,!1),this.upsertSavingThrow(c.Charisma,!1)}}}),Is={},Bs={class:"h-full w-full flex flex-col"},js={class:"flex-none"},Ws={class:"grow n-py-6"},Fs={class:"flex-none justify-end flex w-full"};function Ls(i,e){const t=C("p-scroll-panel");return b(),P("div",Bs,[s("div",js,[si(i.$slots,"title")]),s("div",Ws,[u(t,{style:{height:"60vh"}},{default:g(()=>[si(i.$slots,"content")]),_:3})]),s("div",Fs,[si(i.$slots,"footer")])])}const E=Di(Is,[["render",Ls]]),zs=q("useOriginStore",{state:()=>({origin:O.Unknown,skills:new Array}),getters:{get(){const i=new R(this.origin);return i.skills=this.skills,i}},actions:{selectOrigin(i){this.origin=i.origin,this.skills=i.skills}}}),Os=[{id:1,name:"Acolyte",skills:[7,14]},{id:2,name:"Herbalist",skills:[10,9]},{id:3,name:"Worker",skills:[1,11]},{id:4,name:"Breeder",skills:[9,11]},{id:5,name:"Shopkeeper",skills:[15,16]},{id:6,name:"Hunter",skills:[1,12]},{id:7,name:"Sage",skills:[5,6]},{id:8,name:"Thief",skills:[4,3,8]},{id:9,name:"Lawyer",skills:[5,16]},{id:10,name:"Butler",skills:[4,14]},{id:11,name:"Guard",skills:[1,13]},{id:12,name:"Noble",skills:[5,16]},{id:13,name:"Official",skills:[5,14]},{id:14,name:"Soldier",skills:[1,18]},{id:15,name:"Initiate",skills:[6,7]},{id:16,name:"Brigand",skills:[4,12]}];async function qs(){return Os}const Gs=[{id:1,name:"Human",speed:6,abilityAdditionsMaxChoices:2,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:1,skillToExpertise:0,skillToChoose:[15,16,17,18],skills:[]},{id:2,name:"HumanNoble",speed:6,abilityAdditionsMaxChoices:3,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:1,skillToExpertise:0,skillToChoose:[],skills:[],languageAdditionChoices:1},{id:3,name:"HumanNortherner",speed:6,abilityAdditionsMaxChoices:2,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:1,skillToExpertise:0,skillToChoose:[12,9,1,10],skills:[],languageAdditionChoices:1},{id:4,name:"HumanNomad",speed:6,abilityAdditionsMaxChoices:2,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:1,skillToExpertise:0,skillToChoose:[],skills:[]},{id:5,name:"HumanForester",speed:6,abilityAdditionsMaxChoices:2,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:1,skillToExpertise:0,skillToChoose:[4,12,9,14],skills:[]},{id:6,name:"HumanVersatile",speed:6,abilityAdditionsMaxChoices:2,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:1,skillToExpertise:1,skillToChoose:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],skills:[]},{id:7,name:"HumanCohesive",speed:6,abilityAdditionsMaxChoices:2,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[]},{id:8,name:"Elf",speed:6,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:2,addition:2}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[13]},{id:9,name:"ElfWild",speed:7,castingAbility:6,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:2,addition:2},{ability:6,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[13]},{id:10,name:"ElfHigh",speed:6,castingAbility:4,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:2,addition:2},{ability:4,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[13]},{id:11,name:"ElfNight",speed:6,castingAbility:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:2,addition:2},{ability:5,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[13]},{id:12,name:"ElfBlood",speed:6,castingAbility:4,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:2,addition:2},{ability:4,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[13]},{id:13,name:"Dwarf",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:3,addition:2}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[]},{id:12,name:"DwarfUnderground",speed:5,hitPointAdditionPerLevel:1,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:3,addition:2},{ability:5,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[]},{id:15,name:"DwarfMountain",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:1,addition:1},{ability:3,addition:2}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[]},{id:16,name:"DwarfLight",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:3,addition:2},{ability:2,addition:1},{ability:4,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:1,skillToChoose:[5,6],skills:[]},{id:17,name:"DwarfFire",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:3,addition:2},{ability:5,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[]},{id:18,name:"Halfling",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:2,addition:2},{ability:6,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[]},{id:19,name:"HalfOrc",speed:6,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:1,addition:2},{ability:3,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[18]},{id:20,name:"Gnome",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:4,addition:2},{ability:3,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[18]},{id:21,name:"Dragonborn",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:1,addition:2},{ability:6,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[18]},{id:22,name:"Tiefling",speed:6,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:6,addition:2},{ability:4,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[18]}];async function Xs(){return Gs}const Js=[{id:1,name:"Alchemist",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:3,skillToChoose:[5,10,6,7,8,9,14],skillToExpertise:0,skills:[],savingThrows:[2,4],difficultyClass:0},{id:2,name:"Barbarian",hitPoints:{maxHitPoints:12,dice:12,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[1,11,12,9,14,18],skillToExpertise:0,skills:[],savingThrows:[1,3],difficultyClass:0},{id:3,name:"Bard",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:3,skillToChoose:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],skillToExpertise:0,skills:[],savingThrows:[2,6],difficultyClass:0},{id:4,name:"Fighter",hitPoints:{maxHitPoints:10,dice:10,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[1,2,5,11,12,14,13,18],skillToExpertise:0,skills:[],savingThrows:[1,3],difficultyClass:0},{id:5,name:"Wizard",hitPoints:{maxHitPoints:6,dice:6,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[15,6,7,16,14,18],skillToExpertise:0,skills:[],savingThrows:[3,6],difficultyClass:0},{id:6,name:"Warlock",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[5,16,6,7,8,9,18],skillToExpertise:0,skills:[],savingThrows:[5,6],difficultyClass:0},{id:7,name:"Druid",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[10,6,7,11,12,9,14,13],skillToExpertise:0,skills:[],savingThrows:[4,5],difficultyClass:0},{id:8,name:"Cleric",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[10,5,6,7,16,14],skillToExpertise:0,skills:[],savingThrows:[5,6],difficultyClass:0},{id:9,name:"Mage",hitPoints:{maxHitPoints:6,dice:6,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[6,10,6,7,8,14],skillToExpertise:0,skills:[],savingThrows:[4,5],difficultyClass:0},{id:10,name:"BloodHunter",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[10,6,7,11,12,9,14,13],skillToExpertise:0,skills:[],savingThrows:[4,5],difficultyClass:0},{id:11,name:"Rogue",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:4,skillToChoose:[1,2,3,15,4,13,14,17,18],skillToExpertise:0,skills:[],savingThrows:[2,4],difficultyClass:0}];async function Ks(){return Js}const ii=q("useCommonStore",{state:()=>({origins:new Array,races:new Array,classes:new Array}),getters:{getOrigins(){return this.origins},getRaces(){return this.races},getInitialRacesToShow(){return this.races.filter(i=>i.race!==f.Unknown&&i.race!==f.HumanNoble&&i.race!==f.HumanNortherner&&i.race!==f.HumanNomad&&i.race!==f.HumanForester&&i.race!==f.HumanVersatile&&i.race!==f.HumanCohesive&&i.race!==f.ElfWild&&i.race!==f.ElfHigh&&i.race!==f.ElfNight&&i.race!==f.ElfBlood&&i.race!==f.DwarfUnderground&&i.race!==f.DwarfMountain&&i.race!==f.DwarfLight&&i.race!==f.DwarfFire)},getHumans(){return this.races.filter(i=>i.race===f.HumanCohesive||i.race===f.HumanForester||i.race===f.HumanNomad||i.race===f.HumanNortherner||i.race===f.HumanVersatile||i.race===f.HumanNoble)},getElves(){return this.races.filter(i=>i.race===f.ElfBlood||i.race===f.ElfHigh||i.race===f.ElfNight||i.race===f.ElfWild)},getDwarves(){return this.races.filter(i=>i.race===f.DwarfFire||i.race===f.DwarfLight||i.race===f.DwarfMountain||i.race===f.DwarfUnderground)},getClasses(){return this.classes}},actions:{async loadOrigins(){const i=await qs();this.origins=i.map(e=>{const t=new R(e.id);return t.skills=e.skills,t})},async loadRaces(){const i=await Xs();this.races=i.map(e=>{const t=new Y(e.id);return t.speed=e.speed,t.abilityAdditionsToChoose=e.abilityAdditionsToChoose,t.abilityAdditionsMaxChoices=e.abilityAdditionsMaxChoices,t.skillToChoose=e.skillToChoose,t.skillToChooseMaxChoices=e.skillToChooseMaxChoices,t.skillToExpertise=e.skillToExpertise,t.skills=e.skills,t})},async loadClasses(){const i=await Ks();this.classes=i.map(e=>{const t=new Z(e.id);return t.hitPoints=new J,t.hitPoints.maxHitPoints=e.hitPoints.maxHitPoints,t.hitPoints.dice=e.hitPoints.dice,t.hitPoints.diceNumber=e.hitPoints.diceNumber,t.skillToChoose=e.skillToChoose,t.skillToChooseMaxChoices=e.skillToChooseMaxChoices,t.skillToExpertise=e.skillToExpertise,t.skills=e.skills,t.savingThrows=e.savingThrows,t.difficultyClass=e.difficultyClass,t})}}}),Qs={class:"flex justify-between items-center"},Ys={class:"flex flex-no-wrap gap-2"},Zs={class:"flex flex-wrap gap-4 my-4"},Rs=W({__name:"OriginStep",emits:["nextStep"],setup(i,{emit:e}){const t=e,o=ii(),d=G(),x=zs();function p(_){x.selectOrigin(_)}function w(){d.setOrigin(x.get),t("nextStep")}return(_,$)=>{const k=C("p-tag"),m=C("p-button"),I=C("p-card");return b(),A(E,null,{title:g(()=>[s("div",Qs,[s("div",Ys,[s("h1",null,a(n(x).get.name),1),(b(!0),P(V,null,D(n(x).get.skills,h=>(b(),A(k,null,{default:g(()=>[j(a(_.$t(`enums.SkillEnum.${n(l)[h]}`)),1)]),_:2},1024))),256))]),u(m,{disabled:n(x).get.origin===0,label:_.$t("next"),onClick:w},null,8,["disabled","label"])])]),content:g(()=>[s("div",Zs,[(b(!0),P(V,null,D(n(o).getOrigins,h=>(b(),A(I,{class:"border"},{title:g(()=>[j(a(h.name),1)]),content:g(()=>[u(m,{label:_.$t("select"),onClick:v=>p(h)},null,8,["label","onClick"])]),_:2},1024))),256))])]),_:1})}}}),Es=q("useRaceStore",{state:()=>({race:f.Unknown,speed:0,abilityAdditionsToChoose:new Array,abilityAdditionsMaxChoices:0,abilityAdditions:new Array,skillToChoose:new Array,skillToChooseMaxChoices:0,skillToExpertise:0,skills:new Array}),getters:{get(){const i=new Y(this.race);return i.speed=this.speed,i.abilityAdditionsToChoose=this.abilityAdditionsToChoose,i.abilityAdditionsMaxChoices=this.abilityAdditionsMaxChoices,i.abilityAdditions=this.abilityAdditions,i.skillToChoose=this.skillToChoose,i.skillToChooseMaxChoices=this.skillToChooseMaxChoices,i.skillToExpertise=this.skillToExpertise,i.skills=this.skills,i}},actions:{selectRace(i){this.race=i.race,this.speed=i.speed,this.abilityAdditionsToChoose=i.abilityAdditionsToChoose,this.abilityAdditionsMaxChoices=i.abilityAdditionsMaxChoices,this.abilityAdditions=i.abilityAdditions,this.skillToChoose=i.skillToChoose,this.skillToChooseMaxChoices=i.skillToChooseMaxChoices,this.skillToExpertise=i.skillToExpertise,this.skills=i.skills},updateAbilityAdditions(i){this.abilityAdditionsMaxChoices>0&&(this.abilityAdditions=i,this.abilityAdditionsMaxChoices-=1)},updateSkills(i){this.skillToChooseMaxChoices>0&&(this.skills=i,this.skillToChooseMaxChoices-=1)}}}),it={class:"flex justify-between items-center"},et={class:"flex flex-no-wrap gap-2"},st={class:"flex flex-col gap-4"},tt={key:0,class:"flex flex-col"},lt={class:"flex flex-row gap-1"},ot={class:"flex flex-row gap-2"},at={key:1,class:"flex flex-col"},nt={class:"flex flex-row gap-1"},rt={class:"flex flex-wrap gap-4 my-4"},dt=W({__name:"RaceStep",emits:["nextStep"],setup(i,{emit:e}){const t=e,o=gi(()=>p.get.race!==f.Unknown&&p.get.race!==f.Human&&p.get.race!==f.Elf&&p.get.race!==f.Dwarf),d=ii(),x=G(),p=Es();let w=H(d.getInitialRacesToShow),_=H(f.Unknown);function $(h){if(h.race===f.Human){_.value=f.Human,w.value=d.getHumans;return}if(h.race===f.Elf){_.value=f.Elf,w.value=d.getElves;return}if(h.race===f.Dwarf){_.value=f.Elf,w.value=d.getDwarves;return}p.selectRace(h)}function k(h){p.updateSkills(h)}function m(h){p.updateAbilityAdditions(h)}function I(){x.setRace(p.get),t("nextStep")}return(h,v)=>{const B=C("p-tag"),N=C("p-button"),M=C("p-chip"),X=C("p-select-button"),S=C("p-card");return b(),A(E,null,{title:g(()=>[s("div",it,[s("div",et,[s("h1",null,a(n(p).get.name),1),(b(!0),P(V,null,D(n(p).get.skills,U=>(b(),A(B,null,{default:g(()=>[j(a(h.$t(`enums.SkillEnum.${n(l)[U]}`)),1)]),_:2},1024))),256)),(b(!0),P(V,null,D(n(p).get.abilityAdditions,U=>(b(),A(T,{label:h.$t(`enums.AbilityEnum.${n(c)[U.ability]}`),value:U.addition},null,8,["label","value"]))),256))]),u(N,{disabled:!o.value,label:h.$t("next"),onClick:I},null,8,["disabled","label"])])]),content:g(()=>[s("div",st,[n(p).get.abilityAdditionsToChoose.length>0?(b(),P("div",tt,[s("div",lt,[s("span",null,a(h.$t("select")),1),s("span",null,a(n(p).get.abilityAdditionsMaxChoices),1)]),u(X,{"model-value":n(p).get.abilityAdditions,options:n(p).get.abilityAdditionsToChoose,"onUpdate:modelValue":m,multiple:""},{option:g(U=>[s("div",ot,[s("span",null,a(h.$t(`enums.AbilityEnum.${n(c)[U.option.ability]}`)),1),U.option.addition?(b(),A(M,{key:0},{default:g(()=>[j(a(U.option.addition),1)]),_:2},1024)):z("",!0)])]),_:1},8,["model-value","options"])])):z("",!0),n(p).get.skillToChoose.length>0?(b(),P("div",at,[s("div",nt,[s("span",null,a(h.$t("select")),1),s("span",null,a(n(p).get.skillToChooseMaxChoices),1)]),u(X,{"model-value":n(p).get.skills,options:n(p).get.skillToChoose,"onUpdate:modelValue":k,multiple:""},{option:g(U=>[s("span",null,a(h.$t(`enums.SkillEnum.${n(l)[U.option]}`)),1)]),_:1},8,["model-value","options"])])):z("",!0)]),s("div",rt,[(b(!0),P(V,null,D(n(w),U=>(b(),A(S,{class:"border"},{title:g(()=>[j(a(U.name),1)]),content:g(()=>[u(N,{label:h.$t("select"),onClick:Xt=>$(U)},null,8,["label","onClick"])]),_:2},1024))),256))])]),_:1})}}}),ct=q("useClassStore",{state:()=>({characterClass:K.Unknown,name:"",hitPoints:new J,skillToChoose:new Array,skillToChooseMaxChoices:0,skillToExpertise:0,skills:new Array,savingThrows:new Array,difficultyClass:0}),getters:{get(){const i=new Z(this.characterClass);return i.name=this.name,i.hitPoints=this.hitPoints,i.skillToChoose=this.skillToChoose,i.skillToChooseMaxChoices=this.skillToChooseMaxChoices,i.skillToExpertise=this.skillToExpertise,i.skills=this.skills,i.savingThrows=this.savingThrows,i.difficultyClass=this.difficultyClass,i}},actions:{selectClass(i){this.characterClass=i.characterClass,this.name=i.name,this.hitPoints=i.hitPoints,this.skillToChoose=i.skillToChoose,this.skillToChooseMaxChoices=i.skillToChooseMaxChoices,this.skillToExpertise=i.skillToExpertise,this.skills=i.skills,this.savingThrows=i.savingThrows,this.difficultyClass=i.difficultyClass},updateSkills(i){this.skillToChooseMaxChoices>0&&(this.skills=i,this.skillToChooseMaxChoices-=1)}}}),ht={class:"flex justify-between items-center"},ut={class:"flex flex-no-wrap gap-2"},ft={class:"flex flex-col gap-4"},pt={key:0,class:"flex flex-col"},bt={class:"flex flex-row gap-1"},xt={class:"flex flex-wrap gap-4 my-4"},gt=W({__name:"CharacterClassStep",emits:["nextStep"],setup(i,{emit:e}){const t=e,o=ii(),d=G(),x=ct(),p=gi(()=>x.get.characterClass!==0);function w(k){x.updateSkills(k)}function _(k){x.selectClass(k)}function $(){d.setCharacterClass(x.get),t("nextStep")}return(k,m)=>{const I=C("p-tag"),h=C("p-button"),v=C("p-select-button"),B=C("p-card");return b(),A(E,null,{title:g(()=>[s("div",ht,[s("div",ut,[s("h1",null,a(n(x).get.name),1),(b(!0),P(V,null,D(n(x).get.skills,N=>(b(),A(I,null,{default:g(()=>[j(a(k.$t(`enums.SkillEnum.${n(l)[N]}`)),1)]),_:2},1024))),256))]),u(h,{disabled:!p.value,label:k.$t("next"),onClick:$},null,8,["disabled","label"])])]),content:g(()=>[s("div",ft,[n(x).get.skillToChoose.length>0?(b(),P("div",pt,[s("div",bt,[s("span",null,a(k.$t("select")),1),s("span",null,a(n(x).get.skillToChooseMaxChoices),1)]),u(v,{"model-value":n(x).get.skills,options:n(x).get.skillToChoose,"onUpdate:modelValue":w,multiple:""},{option:g(N=>[s("span",null,a(k.$t(`enums.SkillEnum.${n(l)[N.option]}`)),1)]),_:1},8,["model-value","options"])])):z("",!0)]),s("div",xt,[(b(!0),P(V,null,D(n(o).getClasses,N=>(b(),A(B,{class:"border"},{title:g(()=>[j(a(N.name),1)]),content:g(()=>[u(h,{label:k.$t("select"),onClick:M=>_(N)},null,8,["label","onClick"])]),_:2},1024))),256))])]),_:1})}}}),yt={class:"flex flex-col gap-6"},mt={class:"flex flex-row justify-between my-6 gap-4"},kt={for:"name"},vt={for:"player"},Ct={class:"flex flex-col gap-6"},_t={class:"flex flex-wrap justify-between my-6 gap-4"},wt={class:"flex flex-row gap-2 w-full"},Tt={class:"w-1/2"},At={for:"strength"},$t={class:"w-1/2"},Pt={for:"dexterity"},St={class:"flex flex-row gap-2 w-full"},Mt={class:"w-1/2"},Ht={for:"constitution"},Nt={class:"w-1/2"},Vt={for:"intelligence"},Ut={class:"flex flex-row gap-2 w-full"},Dt={class:"w-1/2"},It={for:"wisdom"},Bt={class:"w-1/2"},jt={for:"charisma"},Wt=W({__name:"ThrowsStep",emits:["nextStep"],setup(i,{emit:e}){const t=e,o=G(),d=H(0),x=H(0),p=H(0),w=H(0),_=H(0),$=H(0),k=H(""),m=H("");function I(){o.setBasics(k.value,m.value,1),o.setThrow(c.Strength,d.value),o.setThrow(c.Dexterity,x.value),o.setThrow(c.Constitution,p.value),o.setThrow(c.Intelligence,w.value),o.setThrow(c.Wisdom,_.value),o.setThrow(c.Charisma,$.value),t("nextStep")}return(h,v)=>{const B=C("p-input-text"),N=C("p-float-label"),M=C("p-input-number"),X=C("p-button");return b(),A(E,null,{title:g(()=>[s("h1",null,a(h.$t("throws")),1)]),content:g(()=>[s("div",yt,[s("div",mt,[u(N,{class:"w-1/2"},{default:g(()=>[u(B,{class:"w-full",id:"name",modelValue:k.value,"onUpdate:modelValue":v[0]||(v[0]=S=>k.value=S)},null,8,["modelValue"]),s("label",kt,a(h.$t("name")),1)]),_:1}),u(N,{class:"w-1/2"},{default:g(()=>[u(B,{class:"w-full",id:"player",modelValue:m.value,"onUpdate:modelValue":v[1]||(v[1]=S=>m.value=S)},null,8,["modelValue"]),s("label",vt,a(h.$t("player")),1)]),_:1})])]),s("div",Ct,[s("div",_t,[s("div",wt,[s("div",Tt,[s("label",At,a(h.$t("strength")),1),u(M,{class:"w-full",id:"strength",modelValue:d.value,"onUpdate:modelValue":v[2]||(v[2]=S=>d.value=S)},null,8,["modelValue"])]),s("div",$t,[s("label",Pt,a(h.$t("dexterity")),1),u(M,{class:"w-full",id:"dexterity",modelValue:x.value,"onUpdate:modelValue":v[3]||(v[3]=S=>x.value=S)},null,8,["modelValue"])])]),s("div",St,[s("div",Mt,[s("label",Ht,a(h.$t("constitution")),1),u(M,{class:"w-full",id:"constitution",modelValue:p.value,"onUpdate:modelValue":v[4]||(v[4]=S=>p.value=S)},null,8,["modelValue"])]),s("div",Nt,[s("label",Vt,a(h.$t("intelligence")),1),u(M,{class:"w-full",id:"intelligence",modelValue:w.value,"onUpdate:modelValue":v[5]||(v[5]=S=>w.value=S)},null,8,["modelValue"])])]),s("div",Ut,[s("div",Dt,[s("label",It,a(h.$t("wisdom")),1),u(M,{class:"w-full",id:"wisdom",modelValue:_.value,"onUpdate:modelValue":v[6]||(v[6]=S=>_.value=S)},null,8,["modelValue"])]),s("div",Bt,[s("label",jt,a(h.$t("charisma")),1),u(M,{class:"w-full",id:"charisma",modelValue:$.value,"onUpdate:modelValue":v[7]||(v[7]=S=>$.value=S)},null,8,["modelValue"])])])])])]),footer:g(()=>[u(X,{label:h.$t("next"),onClick:I},null,8,["label"])]),_:1})}}});var L=(i=>(i[i.Origin=0]="Origin",i[i.Race=1]="Race",i[i.Class=2]="Class",i[i.Throws=3]="Throws",i))(L||{});const Ft=W({__name:"CharacterWizard",props:{isWizard:Boolean},emits:["finish"],setup(i,{emit:e}){const{t}=Hi(),o=e,d=G(),x=Ti(),p=H(1),w=H([{id:0,label:t(`enums.WizardStep.${L[0]}`),component:Rs},{id:1,label:t(`enums.WizardStep.${L[1]}`),component:dt},{id:2,label:t(`enums.WizardStep.${L[2]}`),component:gt},{id:3,label:t(`enums.WizardStep.${L[3]}`),component:Wt}]);function _(){p.value=p.value+1,p.value>=w.value.length&&$()}function $(){x.pushCharacter(d.getCharacter),d.resetCharacter(),o("finish")}return(k,m)=>{const I=C("p-steps"),h=C("p-dialog");return b(),A(h,{visible:i.isWizard,class:"bg-emerald-950 w-screen","content-style":"height: 100vh;","onUpdate:visible":m[2]||(m[2]=v=>k.$emit("finish"))},{header:g(()=>[s("h1",null,a(k.$t(`enums.WizardStep.${L[p.value]}`)),1)]),default:g(()=>[(b(!0),P(V,null,D(w.value,v=>(b(),P(V,null,[p.value===v.id?(b(),A(Ni(v.component),{key:0,onNextStep:m[0]||(m[0]=B=>_())},null,32)):z("",!0)],64))),256))]),footer:g(()=>[u(I,{class:"w-full",activeStep:p.value,"onUpdate:activeStep":m[1]||(m[1]=v=>p.value=v),model:w.value},null,8,["activeStep","model"])]),_:1},8,["visible"])}}}),Lt={class:"flex flex-col gap-8 px-16 py-12"},zt={class:"flex justify-between"},Ot={class:"flex flex-row gap-4"},qt={class:"flex gap-4"},Gt={class:"flex"},Yt=W({__name:"HomeView",setup(i){const e=Vi(),t=ii(),o=G(),d=Ti();t.loadOrigins(),t.loadRaces(),t.loadClasses();let x=H(!1),p=H({});function w(h){p.value=h,x.value=!0}function _(){x.value=!1}let $=H(!1);function k(){o.initCharacter(),$.value=!0}function m(){$.value=!1}function I(){e&&Ui(e).catch(h=>{console.error("Failed sign",h)})}return(h,v)=>{const B=C("p-button"),N=C("p-card");return b(),P(V,null,[s("div",Lt,[s("div",zt,[s("h1",null,a(h.$t("title")),1),s("div",Ot,[u(B,{label:h.$t("createCharacter"),onClick:k},null,8,["label"]),u(B,{label:h.$t("logOut"),onClick:I},null,8,["label"])])]),s("div",qt,[(b(!0),P(V,null,D(n(d).characters,M=>(b(),A(N,{class:"w-100"},{title:g(()=>[j(a(M.basics.name),1)]),subtitle:g(()=>[j(a(`${M.race.name} - ${M.characterClass.name} - ${M.origin.name}`),1)]),content:g(()=>[s("div",Gt,[u(B,{label:h.$t("detail"),onClick:X=>w(M)},null,8,["label","onClick"])])]),_:2},1024))),256))])]),u(Us,{"is-visible":n(x),character:n(p),onClose:_},null,8,["is-visible","character"]),u(Ft,{"is-wizard":n($),onFinish:m},null,8,["is-wizard"])],64)}}});export{Yt as default};
