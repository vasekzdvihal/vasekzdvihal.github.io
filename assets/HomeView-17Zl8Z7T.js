var bi=Object.defineProperty;var ki=(i,e,t)=>e in i?bi(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var s=(i,e,t)=>(ki(i,typeof e!="symbol"?e+"":e,t),t);import{d as B,r as C,o as f,c as w,w as r,a as o,t as _,b as H,e as R,n as Ci,f as c,u as y,g as N,h as U,F as V,i as J,j as Z,k as M,l as yi,m as ii}from"./index-_c9qI-YO.js";var L=(i=>(i[i.Unknown=0]="Unknown",i[i.Human=1]="Human",i[i.HumanNoble=2]="HumanNoble",i[i.HumanNortherner=3]="HumanNortherner",i[i.HumanNomad=4]="HumanNomad",i[i.HumanForester=5]="HumanForester",i[i.HumanVersatile=6]="HumanVersatile",i[i.HumanCohesive=7]="HumanCohesive",i[i.Elf=8]="Elf",i[i.ElfWild=9]="ElfWild",i[i.ElfHigh=10]="ElfHigh",i[i.ElfNight=11]="ElfNight",i[i.ElfBlood=12]="ElfBlood",i[i.Dwarf=13]="Dwarf",i[i.DwarfUnderground=14]="DwarfUnderground",i[i.DwarfMountain=15]="DwarfMountain",i[i.DwarfLight=16]="DwarfLight",i[i.DwarfFire=17]="DwarfFire",i[i.Halfling=18]="Halfling",i[i.HalfOrc=19]="HalfOrc",i[i.Gnome=20]="Gnome",i[i.Dragonborn=21]="Dragonborn",i[i.Tiefling=22]="Tiefling",i))(L||{}),n=(i=>(i[i.Unknown=0]="Unknown",i[i.Strength=1]="Strength",i[i.Dexterity=2]="Dexterity",i[i.Constitution=3]="Constitution",i[i.Intelligence=4]="Intelligence",i[i.Wisdom=5]="Wisdom",i[i.Charisma=6]="Charisma",i))(n||{}),a=(i=>(i[i.Unknown=0]="Unknown",i[i.Athletics=1]="Athletics",i[i.Acrobatics=2]="Acrobatics",i[i.SleightOfHand=3]="SleightOfHand",i[i.Stealth=4]="Stealth",i[i.History=5]="History",i[i.Arcana=6]="Arcana",i[i.Religion=7]="Religion",i[i.Investigation=8]="Investigation",i[i.Nature=9]="Nature",i[i.Medicine=10]="Medicine",i[i.AnimalHandling=11]="AnimalHandling",i[i.Survival=12]="Survival",i[i.Perception=13]="Perception",i[i.Insight=14]="Insight",i[i.Deception=15]="Deception",i[i.Persuasion=16]="Persuasion",i[i.Performance=17]="Performance",i[i.Intimidation=18]="Intimidation",i))(a||{});class Q{constructor(e){s(this,"race");s(this,"name");s(this,"speed",0);s(this,"hitPointAdditionPerLevel",0);s(this,"castingAbility",n.Unknown);s(this,"abilityAdditionsToChoose",new Array);s(this,"abilityAdditionsMaxChoices",0);s(this,"abilityAdditions",new Array);s(this,"skillToChoose",new Array);s(this,"skillToChooseMaxChoices",0);s(this,"skillToExpertise",0);s(this,"skills",new Array);this.race=e,this.name=L[e]}}var $=(i=>(i[i.LawfulGood=0]="LawfulGood",i[i.NeutralGood=1]="NeutralGood",i[i.ChaoticGood=2]="ChaoticGood",i[i.Neutral=3]="Neutral",i[i.ChaoticEvil=4]="ChaoticEvil",i[i.NeutralEvil=5]="NeutralEvil",i[i.LawfulEvil=6]="LawfulEvil",i))($||{}),di=(i=>(i[i.k0=0]="k0",i[i.k3=3]="k3",i[i.k4=4]="k4",i[i.k6=6]="k6",i[i.k8=8]="k8",i[i.k10=10]="k10",i[i.k12=12]="k12",i[i.k20=20]="k20",i))(di||{});const ci=1;function E(i){let e=0;return i>=1&&i<=4&&(e=2),i>=5&&i<=8&&(e=3),i>=9&&i<=12&&(e=4),i>=13&&i<=16&&(e=5),i>=17&&i<=20&&(e=6),e}function xi(i){return i.modifier}class ei{constructor(){s(this,"name","");s(this,"player","");s(this,"alignment",$.Neutral);s(this,"level",0);s(this,"bonus",0);s(this,"initiative",0)}update(e){this.calculate(e)}calculate(e){this.bonus=E(this.level),this.initiative=xi(e)}}class ti{constructor(){s(this,"light",0);s(this,"medium",0);s(this,"heavy",0)}update(e){this.calculate(e)}calculate(e){this.light=e,this.medium=e-1,this.heavy=e-3}}class F{constructor(){s(this,"maxHitPoints",0);s(this,"dice",di.k0);s(this,"diceNumber",0)}update(e,t,l){this.maxHitPoints=e,this.dice=t,this.diceNumber=l}}class si{constructor(){s(this,"natural",0)}update(e){this.calculate(e)}calculate(e){this.natural=10+e.modifier}}var j=(i=>(i[i.Unknown=0]="Unknown",i[i.Alchemist=1]="Alchemist",i[i.Barbarian=2]="Barbarian",i[i.Bard=3]="Bard",i[i.Fighter=4]="Fighter",i[i.Wizard=5]="Wizard",i[i.Warlock=6]="Warlock",i[i.Druid=7]="Druid",i[i.Cleric=8]="Cleric",i[i.Mage=9]="Mage",i[i.BloodHunter=10]="BloodHunter",i[i.Rogue=11]="Rogue",i))(j||{});class X{constructor(e){s(this,"characterClass");s(this,"name");s(this,"hitPoints",new F);s(this,"skillToChoose",new Array);s(this,"skillToChooseMaxChoices",0);s(this,"skillToExpertise",0);s(this,"skills",new Array);s(this,"savingThrows",new Array);s(this,"difficultyClass",0);this.characterClass=e,this.name=j[e]}}var q=(i=>(i[i.Unknown=0]="Unknown",i[i.Acolyte=1]="Acolyte",i[i.Herbalist=2]="Herbalist",i[i.Worker=3]="Worker",i[i.Breeder=4]="Breeder",i[i.Shopkeeper=5]="Shopkeeper",i[i.Hunter=6]="Hunter",i[i.Sage=7]="Sage",i[i.Thief=8]="Thief",i[i.Lawyer=9]="Lawyer",i[i.Butler=10]="Butler",i[i.Guard=11]="Guard",i[i.Noble=12]="Noble",i[i.Official=13]="Official",i[i.Soldier=14]="Soldier",i[i.Initiate=15]="Initiate",i[i.Brigand=16]="Brigand",i))(q||{});class Y{constructor(e){s(this,"origin");s(this,"name");s(this,"skills",new Array);this.origin=e,this.name=q[e]}}var p=(i=>(i[i.None=0]="None",i[i.Proficient=1]="Proficient",i[i.Expert=2]="Expert",i))(p||{});function oi(i){const e=n.Unknown;return i===a.Athletics?n.Strength:i===a.Acrobatics||i===a.SleightOfHand||i===a.Stealth?n.Dexterity:i===a.History||i===a.Arcana||i===a.Religion||i===a.Investigation||i===a.Nature?n.Intelligence:i===a.Medicine||i===a.AnimalHandling||i===a.Survival||i===a.Perception||i===a.Insight?n.Wisdom:i===a.Deception||i===a.Persuasion||i===a.Performance||i===a.Intimidation?n.Charisma:e}function Ti(i){return i===a.Athletics||i===a.Acrobatics||i===a.Stealth||i===a.Insight||i===a.Perception}function li(i,e){let t=0;return i===p.Proficient&&(t=t+e),i===p.Expert&&(t=t+e+e),t}class hi{constructor(e,t,l){s(this,"name");s(this,"skill");s(this,"abilityModifier");s(this,"level");s(this,"value",0);this.name=a[e],this.skill=e,this.abilityModifier=t,this.level=l}calculateValue(){}update(e){this.name=e.name,this.skill=e.skill,this.abilityModifier=e.abilityModifier,this.level=e.level,this.calculateValue()}}class vi extends hi{calculateValue(){this.value=ui.getPassive(this.abilityModifier,this.level,E(ci))}}class gi extends hi{calculateValue(){this.value=ui.getActive(this.abilityModifier,this.level,E(ci))}}class ai{static createPassiveSkill(e,t,l){const h=new vi(e,t.modifier,l);return h.calculateValue(),h}static createActiveSkill(e,t,l){const h=new gi(e,t.modifier,l);return h.calculateValue(),h}}class ui{static getPassive(e,t,l){return 10+e+li(t,l)}static getActive(e,t,l){return e+li(t,l)}}class K{constructor(){s(this,"skills",new Array)}get(e){return this.skills.find(t=>t.skill===e)}upsert(e){const t=this.get(e.skill);t?t.update(e):this.skills.push(e)}}function _i(i){let e=0;return i>=0&&i<=1&&(e=-5),i>=2&&i<=3&&(e=-4),i>=4&&i<=5&&(e=-3),i>=6&&i<=7&&(e=-2),i>=8&&i<=9&&(e=-1),i>=10&&i<=11&&(e=0),i>=12&&i<=13&&(e=1),i>=14&&i<=15&&(e=2),i>=16&&i<=17&&(e=3),i>=18&&i<=19&&(e=4),i>=20&&i<=21&&(e=5),i>=22&&i<=23&&(e=6),i>=24&&i<=25&&(e=7),i>=26&&i<=27&&(e=8),i>=28&&i<=29&&(e=9),i>=30&&(e=10),e}class W{constructor(e,t,l=0){s(this,"name");s(this,"ability");s(this,"value");s(this,"modifier");this.name=n[e],this.ability=e,this.value=t,this.modifier=l}updateValue(e){this.value=e,this.calculateModifier()}calculateModifier(){this.modifier=_i(this.value)}}class wi{constructor(){s(this,"strength",0);s(this,"dexterity",0);s(this,"constitution",0);s(this,"intelligence",0);s(this,"wisdom",0);s(this,"charisma",0)}set(e,t){switch(e){case n.Strength:this.strength=t;break;case n.Dexterity:this.dexterity=t;break;case n.Constitution:this.constitution=t;break;case n.Intelligence:this.intelligence=t;break;case n.Wisdom:this.wisdom=t;break;case n.Charisma:this.charisma=t;break}}}class pi{constructor(){s(this,"abilities",new Array);s(this,"rolls",new wi);this.abilities.push(new W(n.Strength,0)),this.abilities.push(new W(n.Dexterity,0)),this.abilities.push(new W(n.Constitution,0)),this.abilities.push(new W(n.Intelligence,0)),this.abilities.push(new W(n.Wisdom,0)),this.abilities.push(new W(n.Charisma,0))}get(e){return this.abilities.find(t=>t.ability===e)}}class ni extends pi{update(e,t){this.rolls.set(e,t),this.abilities.find(h=>h.ability===e).updateValue(t)}}class ri extends pi{update(e,t,l){const h=this.abilities.find(u=>u.ability===e.ability),d=e.modifier+(t?l:0);h.updateValue(d)}}class fi{constructor(e,t,l,h,d,u,m,A,x,b,g){s(this,"basics");s(this,"speed");s(this,"defense");s(this,"hitPoints");s(this,"abilities");s(this,"skills");s(this,"passives");s(this,"savings");s(this,"race");s(this,"characterClass");s(this,"origin");this.basics=e,this.speed=t,this.defense=l,this.hitPoints=h,this.abilities=d,this.skills=u,this.passives=m,this.savings=A,this.race=x,this.characterClass=b,this.origin=g}}const P=B({__name:"InfoChip",props:{label:{type:String,required:!0},value:{type:String,required:!1,default:""}},setup(i){return(e,t)=>{const l=C("p-badge"),h=C("p-chip");return f(),w(h,{class:Ci(["flex gap-2",i.value?"pr-0":""])},{default:r(()=>[o("span",null,_(i.label),1),i.value?(f(),w(l,{key:0},{default:r(()=>[H(_(i.value),1)]),_:1})):R("",!0)]),_:1},8,["class"])}}}),mi={class:"flex px-6"},Ai={class:"flex flex-wrap gap-2 py-4"},Si={class:"flex flex-wrap gap-4"},Mi={class:"flex flex-wrap gap-4"},Pi={class:"flex flex-wrap gap-4"},Ni={class:"flex flex-wrap gap-4"},Hi=B({__name:"CharacterCard",props:{character:{type:fi,required:!0}},setup(i){return(e,t)=>{const l=C("p-accordion-tab"),h=C("p-accordion"),d=C("p-card");return f(),w(d,null,{title:r(()=>[H(_(i.character.basics.name),1)]),subtitle:r(()=>[H(_(`${i.character.race.name} - ${i.character.characterClass.name} - ${i.character.origin.name}`),1)]),content:r(()=>[o("div",mi,[o("div",Ai,[c(P,{label:"Name",value:i.character.basics.name},null,8,["value"]),c(P,{label:"Player",value:i.character.basics.player},null,8,["value"]),c(P,{label:"Level",value:i.character.basics.level},null,8,["value"]),c(P,{label:"Proficiency bonus",value:i.character.basics.bonus},null,8,["value"]),c(P,{label:"Alignment",value:y($)[i.character.basics.alignment]},null,8,["value"]),c(P,{label:"Speed",value:`${i.character.speed.light}/${i.character.speed.medium}/${i.character.speed.heavy}`},null,8,["value"]),c(P,{label:"Max HP",value:`${i.character.hitPoints.maxHitPoints}`},null,8,["value"]),c(P,{label:"HP Dice",value:`${i.character.hitPoints.diceNumber}k${i.character.hitPoints.dice}`},null,8,["value"]),c(P,{label:"Defense (natural)",value:i.character.defense.natural},null,8,["value"])])]),c(h,{activeIndex:0,multiple:""},{default:r(()=>[c(l,{header:"Abilities"},{default:r(()=>[o("div",Si,[(f(!0),N(V,null,U(i.character.abilities.abilities,u=>(f(),w(P,{label:u.value,value:`${u.value} (${u.modifier})`},null,8,["label","value"]))),256))])]),_:1}),c(l,{header:"Active Skills"},{default:r(()=>[o("div",Mi,[(f(!0),N(V,null,U(i.character.skills.skills,u=>(f(),w(P,{label:u.name,value:u.value},null,8,["label","value"]))),256))])]),_:1}),c(l,{header:"Passive Skills"},{default:r(()=>[o("div",Pi,[(f(!0),N(V,null,U(i.character.passives.skills,u=>(f(),w(P,{label:u.name,value:u.value},null,8,["label","value"]))),256))])]),_:1}),c(l,{header:"Saving Throws"},{default:r(()=>[o("div",Ni,[(f(!0),N(V,null,U(i.character.savings.abilities,u=>(f(),w(P,{label:u.name,value:u.value},null,8,["label","value"]))),256))])]),_:1})]),_:1})]),_:1})}}}),$i=[{id:1,name:"Acolyte",skills:[7,14]},{id:2,name:"Herbalist",skills:[10,9]},{id:3,name:"Worker",skills:[1,11]},{id:4,name:"Breeder",skills:[9,11]},{id:5,name:"Shopkeeper",skills:[15,16]},{id:6,name:"Hunter",skills:[1,12]},{id:7,name:"Sage",skills:[5,6]},{id:8,name:"Thief",skills:[4,3,8]},{id:9,name:"Lawyer",skills:[5,16]},{id:10,name:"Butler",skills:[4,14]},{id:11,name:"Guard",skills:[1,13]},{id:12,name:"Noble",skills:[5,16]},{id:13,name:"Official",skills:[5,14]},{id:14,name:"Soldier",skills:[1,18]},{id:15,name:"Initiate",skills:[6,7]},{id:16,name:"Brigand",skills:[4,12]}];async function Vi(){return $i}const Ui=[{id:1,name:"Human",speed:6,abilityAdditionsMaxChoices:2,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:1,skillToExpertise:0,skillToChoose:[15,16,17,18],skills:[]},{id:2,name:"HumanNoble",speed:6,abilityAdditionsMaxChoices:3,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:1,skillToExpertise:0,skillToChoose:[],skills:[],languageAdditionChoices:1},{id:3,name:"HumanNortherner",speed:6,abilityAdditionsMaxChoices:2,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:1,skillToExpertise:0,skillToChoose:[12,9,1,10],skills:[],languageAdditionChoices:1},{id:4,name:"HumanNomad",speed:6,abilityAdditionsMaxChoices:2,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:1,skillToExpertise:0,skillToChoose:[],skills:[]},{id:5,name:"HumanForester",speed:6,abilityAdditionsMaxChoices:2,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:1,skillToExpertise:0,skillToChoose:[4,12,9,14],skills:[]},{id:6,name:"HumanVersatile",speed:6,abilityAdditionsMaxChoices:2,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:1,skillToExpertise:1,skillToChoose:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],skills:[]},{id:7,name:"HumanCohesive",speed:6,abilityAdditionsMaxChoices:2,abilityAdditionsToChoose:[{ability:1,addition:1},{ability:2,addition:1},{ability:3,addition:1},{ability:4,addition:1},{ability:5,addition:1},{ability:6,addition:1}],abilityAdditions:[],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[]},{id:8,name:"Elf",speed:6,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:2,addition:2}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[13]},{id:9,name:"ElfWild",speed:7,castingAbility:6,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:2,addition:2},{ability:6,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[13]},{id:10,name:"ElfHigh",speed:6,castingAbility:4,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:2,addition:2},{ability:4,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[13]},{id:11,name:"ElfNight",speed:6,castingAbility:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:2,addition:2},{ability:5,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[13]},{id:12,name:"ElfBlood",speed:6,castingAbility:4,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:2,addition:2},{ability:4,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[13]},{id:13,name:"Dwarf",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:3,addition:2}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[]},{id:12,name:"DwarfUnderground",speed:5,hitPointAdditionPerLevel:1,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:3,addition:2},{ability:5,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[]},{id:15,name:"DwarfMountain",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:1,addition:1},{ability:3,addition:2}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[]},{id:16,name:"DwarfLight",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:3,addition:2},{ability:2,addition:1},{ability:4,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:1,skillToChoose:[5,6],skills:[]},{id:17,name:"DwarfFire",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:3,addition:2},{ability:5,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[]},{id:18,name:"Halfling",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:2,addition:2},{ability:6,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[]},{id:19,name:"HalfOrc",speed:6,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:1,addition:2},{ability:3,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[18]},{id:20,name:"Gnome",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:4,addition:2},{ability:3,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[18]},{id:21,name:"Dragonborn",speed:5,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:1,addition:2},{ability:6,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[18]},{id:22,name:"Tiefling",speed:6,abilityAdditionsMaxChoices:0,abilityAdditionsToChoose:[],abilityAdditions:[{ability:6,addition:2},{ability:4,addition:1}],skillToChooseMaxChoices:0,skillToExpertise:0,skillToChoose:[],skills:[18]}];async function Bi(){return Ui}const Di=[{id:1,name:"Alchemist",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:3,skillToChoose:[5,10,6,7,8,9,14],skillToExpertise:0,skills:[],savingThrows:[2,4],difficultyClass:0},{id:2,name:"Barbarian",hitPoints:{maxHitPoints:12,dice:12,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[1,11,12,9,14,18],skillToExpertise:0,skills:[],savingThrows:[1,3],difficultyClass:0},{id:3,name:"Bard",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:3,skillToChoose:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],skillToExpertise:0,skills:[],savingThrows:[2,6],difficultyClass:0},{id:4,name:"Fighter",hitPoints:{maxHitPoints:10,dice:10,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[1,2,5,11,12,14,13,18],skillToExpertise:0,skills:[],savingThrows:[1,3],difficultyClass:0},{id:5,name:"Wizard",hitPoints:{maxHitPoints:6,dice:6,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[15,6,7,16,14,18],skillToExpertise:0,skills:[],savingThrows:[3,6],difficultyClass:0},{id:6,name:"Warlock",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[5,16,6,7,8,9,18],skillToExpertise:0,skills:[],savingThrows:[5,6],difficultyClass:0},{id:7,name:"Druid",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[10,6,7,11,12,9,14,13],skillToExpertise:0,skills:[],savingThrows:[4,5],difficultyClass:0},{id:8,name:"Cleric",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[10,5,6,7,16,14],skillToExpertise:0,skills:[],savingThrows:[5,6],difficultyClass:0},{id:9,name:"Mage",hitPoints:{maxHitPoints:6,dice:6,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[6,10,6,7,8,14],skillToExpertise:0,skills:[],savingThrows:[4,5],difficultyClass:0},{id:10,name:"BloodHunter",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:2,skillToChoose:[10,6,7,11,12,9,14,13],skillToExpertise:0,skills:[],savingThrows:[4,5],difficultyClass:0},{id:11,name:"Rogue",hitPoints:{maxHitPoints:8,dice:8,diceNumber:1},skillToChooseMaxChoices:4,skillToChoose:[1,2,3,15,4,13,14,17,18],skillToExpertise:0,skills:[],savingThrows:[2,4],difficultyClass:0}];async function Ii(){return Di}const O=J("useCommonStore",{state:()=>({origins:new Array,races:new Array,classes:new Array,characters:new Array}),getters:{getOrigins(){return this.origins},getRaces(){return this.races},getClasses(){return this.classes},getCharacters(){return this.characters}},actions:{addCharacter(i){this.characters.push(i)},async fetchOrigins(){const i=await Vi();this.origins=i.map(e=>{const t=new Y(e.id);return t.skills=e.skills,t})},async fetchRaces(){const i=await Bi();this.races=i.map(e=>{const t=new Q(e.id);return t.speed=e.speed,t.abilityAdditionsToChoose=e.abilityAdditionsToChoose,t.abilityAdditionsMaxChoices=e.abilityAdditionsMaxChoices,t.skillToChoose=e.skillToChoose,t.skillToChooseMaxChoices=e.skillToChooseMaxChoices,t.skillToExpertise=e.skillToExpertise,t.skills=e.skills,t})},async fetchClasses(){const i=await Ii();this.classes=i.map(e=>{const t=new X(e.id);return t.hitPoints=new F,t.hitPoints.maxHitPoints=e.hitPoints.maxHitPoints,t.hitPoints.dice=e.hitPoints.dice,t.hitPoints.diceNumber=e.hitPoints.diceNumber,t.skillToChoose=e.skillToChoose,t.skillToChooseMaxChoices=e.skillToChooseMaxChoices,t.skillToExpertise=e.skillToExpertise,t.skills=e.skills,t.savingThrows=e.savingThrows,t.difficultyClass=e.difficultyClass,t})}}}),I=J("character",{state:()=>({basics:new ei,speed:new ti,defense:new si,hitPoints:new F,abilities:new ni,skills:new K,passives:new K,savings:new ri,race:new Q(L.Unknown),characterClass:new X(j.Unknown),origin:new Y(q.Unknown),characters:new Array}),getters:{getCharacter(){return new fi(this.basics,this.speed,this.defense,this.hitPoints,this.abilities,this.skills,this.passives,this.savings,this.race,this.characterClass,this.origin)},getCharacters(){return this.characters}},actions:{initCharacter(){this.generateSkills(),this.generatePassives(),this.generateSavings()},finishCharacter(){O().addCharacter(this.getCharacter),this.resetCharacter()},resetCharacter(){this.basics=new ei,this.speed=new ti,this.defense=new si,this.hitPoints=new F,this.abilities=new ni,this.skills=new K,this.passives=new K,this.savings=new ri,this.race=new Q(L.Unknown),this.characterClass=new X(j.Unknown),this.origin=new Y(q.Unknown),this.initCharacter()},setBasics(i,e,t,l=0){this.basics.name=i,this.basics.player=e,this.basics.alignment=t,this.basics.level=l,this.calculateBasics()},calculateBasics(){const i=this.abilities.get(n.Dexterity);this.basics.update(i),this.defense.update(i)},setSpeed(i){this.speed.update(i)},setHitPoints(i,e=0){this.hitPoints.update(i,e,this.basics.level)},setThrow(i,e){this.abilities.update(i,e),this.calculateBasics()},upsertSkill(i,e){this.skills.upsert(ai.createActiveSkill(i,this.abilities.get(oi(i)),e)),Ti(i)&&this.upsertPassiveSkill(i,e)},upsertPassiveSkill(i,e){this.passives.upsert(ai.createPassiveSkill(i,this.abilities.get(oi(i)),e))},upsertSavingThrow(i,e){const t=this.abilities.get(i);this.savings.update(t,e,this.basics.bonus)},setRace(i){this.race=i,this.setSpeed(i.speed),this.race.abilityAdditions.forEach(e=>{this.abilities.update(e.ability,this.abilities.get(e.ability).value+e.addition)});for(const e of i.skills)this.upsertSkill(e,this.skills.get(e).level===p.Proficient?p.Expert:p.Proficient)},setOrigin(i){this.origin=i;for(const e of i.skills)this.upsertSkill(e,this.skills.get(e).level===p.Proficient?p.Expert:p.Proficient)},setCharacterClass(i){this.characterClass=i,this.setHitPoints(i.hitPoints.dice,i.hitPoints.maxHitPoints);for(const e of i.skills)this.upsertSkill(e,this.skills.get(e).level===p.Proficient?p.Expert:p.Proficient);for(const e of i.savingThrows)this.upsertSavingThrow(e,!0)},generateSkills(){this.upsertSkill(a.Athletics,p.None),this.upsertSkill(a.Acrobatics,p.None),this.upsertSkill(a.SleightOfHand,p.None),this.upsertSkill(a.Stealth,p.None),this.upsertSkill(a.History,p.None),this.upsertSkill(a.Arcana,p.None),this.upsertSkill(a.Religion,p.None),this.upsertSkill(a.Investigation,p.None),this.upsertSkill(a.Nature,p.None),this.upsertSkill(a.Medicine,p.None),this.upsertSkill(a.AnimalHandling,p.None),this.upsertSkill(a.Survival,p.None),this.upsertSkill(a.Perception,p.None),this.upsertSkill(a.Insight,p.None),this.upsertSkill(a.Deception,p.None),this.upsertSkill(a.Persuasion,p.None),this.upsertSkill(a.Performance,p.None),this.upsertSkill(a.Intimidation,p.None)},generatePassives(){this.upsertPassiveSkill(a.Athletics,p.None),this.upsertPassiveSkill(a.Acrobatics,p.None),this.upsertPassiveSkill(a.Stealth,p.None),this.upsertPassiveSkill(a.Insight,p.None),this.upsertPassiveSkill(a.Perception,p.None)},generateSavings(){this.upsertSavingThrow(n.Strength,!1),this.upsertSavingThrow(n.Dexterity,!1),this.upsertSavingThrow(n.Constitution,!1),this.upsertSavingThrow(n.Intelligence,!1),this.upsertSavingThrow(n.Wisdom,!1),this.upsertSavingThrow(n.Charisma,!1)}}}),Wi=(i,e)=>{const t=i.__vccOpts||i;for(const[l,h]of e)t[l]=h;return t},Gi={},Li={class:"h-full w-full flex flex-col py-10 px-12"},Fi={class:"flex-none"},ji={class:"grow"},qi={class:"flex-none justify-end flex w-full"};function Ji(i,e){return f(),N("div",Li,[o("div",Fi,[Z(i.$slots,"title")]),o("div",ji,[Z(i.$slots,"content")]),o("div",qi,[Z(i.$slots,"footer")])])}const z=Wi(Gi,[["render",Ji]]),Oi=J("useOriginStore",{state:()=>({origin:q.Unknown,skills:new Array}),getters:{get(){const i=new Y(this.origin);return i.skills=this.skills,i}},actions:{selectOrigin(i){this.origin=i.origin,this.skills=i.skills}}}),zi=o("h1",null,"Origin",-1),Ki={class:"flex flex-wrap gap-4 my-4"},Qi={class:"flex flex-col gap-4"},Xi={class:"flex"},Yi=B({__name:"OriginStep",emits:["nextStep"],setup(i,{emit:e}){const t=e,l=O(),h=I(),d=Oi();function u(A){d.selectOrigin(A)}function m(){h.setOrigin(d.get),t("nextStep")}return(A,x)=>{const b=C("p-button"),g=C("p-card");return f(),w(z,null,{title:r(()=>[zi]),content:r(()=>[o("div",Ki,[(f(!0),N(V,null,U(y(l).getOrigins,k=>(f(),w(g,{class:"border"},{title:r(()=>[H(_(k.name),1)]),subtitle:r(()=>[H("TODO Description")]),content:r(()=>[c(b,{label:"Select",onClick:S=>u(k)},null,8,["onClick"])]),_:2},1024))),256))]),o("div",Qi,[o("div",Xi,[o("span",null,_(y(d).get.name),1)])])]),footer:r(()=>[c(b,{label:"Next",onClick:m})]),_:1})}}}),Zi=J("useRaceStore",{state:()=>({race:L.Unknown,speed:0,abilityAdditionsToChoose:new Array,abilityAdditionsMaxChoices:0,abilityAdditions:new Array,skillToChoose:new Array,skillToChooseMaxChoices:0,skillToExpertise:0,skills:new Array}),getters:{get(){const i=new Q(this.race);return i.speed=this.speed,i.abilityAdditionsToChoose=this.abilityAdditionsToChoose,i.abilityAdditionsMaxChoices=this.abilityAdditionsMaxChoices,i.abilityAdditions=this.abilityAdditions,i.skillToChoose=this.skillToChoose,i.skillToChooseMaxChoices=this.skillToChooseMaxChoices,i.skillToExpertise=this.skillToExpertise,i.skills=this.skills,i}},actions:{selectRace(i){this.race=i.race,this.speed=i.speed,this.abilityAdditionsToChoose=i.abilityAdditionsToChoose,this.abilityAdditionsMaxChoices=i.abilityAdditionsMaxChoices,this.abilityAdditions=i.abilityAdditions,this.skillToChoose=i.skillToChoose,this.skillToChooseMaxChoices=i.skillToChooseMaxChoices,this.skillToExpertise=i.skillToExpertise,this.skills=i.skills},updateAbilityAdditions(i){this.abilityAdditionsMaxChoices>0&&(this.abilityAdditions=i,this.abilityAdditionsMaxChoices-=1)},updateSkills(i){this.skillToChooseMaxChoices>0&&(this.skills=i,this.skillToChooseMaxChoices-=1)}}}),Ri=o("h1",null,"Race",-1),Ei={class:"flex flex-wrap gap-4 my-4"},ie={class:"flex flex-col gap-4"},ee={class:"flex"},te={class:"flex flex-col"},se={class:"flex flex-col"},oe=B({__name:"RaceStep",emits:["nextStep"],setup(i,{emit:e}){const t=e,l=O(),h=I(),d=Zi();function u(b){d.selectRace(b)}function m(b){d.updateSkills(b)}function A(b){d.updateAbilityAdditions(b)}function x(){h.setRace(d.get),t("nextStep")}return(b,g)=>{const k=C("p-button"),S=C("p-card"),T=C("p-chip"),v=C("p-select-button");return f(),w(z,null,{title:r(()=>[Ri]),content:r(()=>[o("div",Ei,[(f(!0),N(V,null,U(y(l).getRaces,D=>(f(),w(S,{class:"border"},{title:r(()=>[H(_(D.name),1)]),subtitle:r(()=>[H("TODO description")]),content:r(()=>[c(k,{label:"Select",onClick:ze=>u(D)},null,8,["onClick"])]),_:2},1024))),256))]),o("div",ie,[o("div",ee,[o("span",null,_(y(d).get.name),1)]),o("div",te,[o("span",null,"Select "+_(y(d).get.abilityAdditionsMaxChoices),1),c(v,{"model-value":y(d).get.abilityAdditions,options:y(d).get.abilityAdditionsToChoose,"onUpdate:modelValue":A,multiple:""},{option:r(D=>[o("span",null,_(y(n)[D.option.ability]),1),D.option.addition?(f(),w(T,{key:0},{default:r(()=>[H(_(D.option.addition),1)]),_:2},1024)):R("",!0)]),_:1},8,["model-value","options"])]),o("div",se,[o("span",null,"Select "+_(y(d).get.skillToChooseMaxChoices),1),c(v,{"model-value":y(d).get.skills,options:y(d).get.skillToChoose,"onUpdate:modelValue":m,multiple:""},{option:r(D=>[o("span",null,_(y(a)[D.option]),1)]),_:1},8,["model-value","options"])])])]),footer:r(()=>[c(k,{label:"Next",onClick:x})]),_:1})}}}),le=J("useClassStore",{state:()=>({characterClass:j.Unknown,name:"",hitPoints:new F,skillToChoose:new Array,skillToChooseMaxChoices:0,skillToExpertise:0,skills:new Array,savingThrows:new Array,difficultyClass:0}),getters:{get(){const i=new X(this.characterClass);return i.name=this.name,i.hitPoints=this.hitPoints,i.skillToChoose=this.skillToChoose,i.skillToChooseMaxChoices=this.skillToChooseMaxChoices,i.skillToExpertise=this.skillToExpertise,i.skills=this.skills,i.savingThrows=this.savingThrows,i.difficultyClass=this.difficultyClass,i}},actions:{selectClass(i){this.characterClass=i.characterClass,this.name=i.name,this.hitPoints=i.hitPoints,this.skillToChoose=i.skillToChoose,this.skillToChooseMaxChoices=i.skillToChooseMaxChoices,this.skillToExpertise=i.skillToExpertise,this.skills=i.skills,this.savingThrows=i.savingThrows,this.difficultyClass=i.difficultyClass},updateSkills(i){this.skillToChooseMaxChoices>0&&(this.skills=i,this.skillToChooseMaxChoices-=1)}}}),ae=o("h1",null,"Class",-1),ne={class:"flex flex-wrap gap-4 my-4"},re={class:"flex flex-col gap-4"},de={class:"flex"},ce={class:"flex flex-col"},he=B({__name:"CharacterClassStep",emits:["nextStep"],setup(i,{emit:e}){const t=e,l=O(),h=I(),d=le();function u(x){d.updateSkills(x)}function m(x){d.selectClass(x)}function A(){h.setCharacterClass(d.get),t("nextStep")}return(x,b)=>{const g=C("p-button"),k=C("p-card"),S=C("p-select-button");return f(),w(z,null,{title:r(()=>[ae]),content:r(()=>[o("div",ne,[(f(!0),N(V,null,U(y(l).getClasses,T=>(f(),w(k,{class:"border"},{title:r(()=>[H(_(T.name),1)]),subtitle:r(()=>[H("TODO description")]),content:r(()=>[c(g,{label:"Select",onClick:v=>m(T)},null,8,["onClick"])]),_:2},1024))),256))]),o("div",re,[o("div",de,[o("span",null,_(y(d).get.name),1)]),o("div",ce,[o("span",null,"Select "+_(y(d).get.skillToChooseMaxChoices),1),c(S,{"model-value":y(d).get.skills,options:y(d).get.skillToChoose,"onUpdate:modelValue":u,multiple:""},{option:r(T=>[o("span",null,_(y(a)[T.option]),1)]),_:1},8,["model-value","options"])])])]),footer:r(()=>[c(g,{label:"Next",onClick:A})]),_:1})}}}),ue=o("h1",null,"Basics",-1),pe={class:"flex flex-col gap-6"},fe={class:"flex flex-row justify-between my-6 gap-4"},be=o("label",{for:"name"},"Name",-1),ke=o("label",{for:"player"},"Player",-1),Ce=B({__name:"BasicsStep",emits:["nextStep"],setup(i,{emit:e}){const t=e,l=I(),h=M(""),d=M(""),u=M($.Neutral),m=[{label:"Lawful Good",value:$.LawfulGood},{label:"Neutral Good",value:$.NeutralGood},{label:"Chaotic Good",value:$.ChaoticGood},{label:"Neutral",value:$.Neutral},{label:"Lawful Evil",value:$.LawfulEvil},{label:"Neutral Evil",value:$.NeutralEvil},{label:"Chaotic Evil",value:$.ChaoticEvil}];function A(){l.setBasics(h.value,d.value,u.value,1),t("nextStep")}return(x,b)=>{const g=C("p-input-text"),k=C("p-float-label"),S=C("p-select-button"),T=C("p-button");return f(),w(z,null,{title:r(()=>[ue]),content:r(()=>[o("div",pe,[o("div",fe,[c(k,{class:"w-1/2"},{default:r(()=>[c(g,{class:"w-full",id:"name",modelValue:h.value,"onUpdate:modelValue":b[0]||(b[0]=v=>h.value=v)},null,8,["modelValue"]),be]),_:1}),c(k,{class:"w-1/2"},{default:r(()=>[c(g,{class:"w-full",id:"player",modelValue:d.value,"onUpdate:modelValue":b[1]||(b[1]=v=>d.value=v)},null,8,["modelValue"]),ke]),_:1})]),c(S,{modelValue:u.value,"onUpdate:modelValue":b[2]||(b[2]=v=>u.value=v),options:m,"option-value":"value","option-label":"label"},null,8,["modelValue"])])]),footer:r(()=>[c(T,{label:"Next",onClick:A})]),_:1})}}}),ye=o("h1",null,"Throws",-1),xe={class:"flex flex-col gap-6"},Te={class:"flex flex-wrap justify-between my-6 gap-4"},ve={class:"flex flex-row gap-2 w-full"},ge={class:"w-1/2"},_e=o("label",{for:"strength"},"Strength",-1),we={class:"w-1/2"},me=o("label",{for:"dexterity"},"Dexterity",-1),Ae={class:"flex flex-row gap-2 w-full"},Se={class:"w-1/2"},Me=o("label",{for:"constitution"},"Constitution",-1),Pe={class:"w-1/2"},Ne=o("label",{for:"intelligence"},"Intelligence",-1),He={class:"flex flex-row gap-2 w-full"},$e={class:"w-1/2"},Ve=o("label",{for:"wisdom"},"Wisdom",-1),Ue={class:"w-1/2"},Be=o("label",{for:"charisma"},"Charisma",-1),De=B({__name:"ThrowsStep",emits:["nextStep"],setup(i,{emit:e}){const t=e,l=I(),h=M(0),d=M(0),u=M(0),m=M(0),A=M(0),x=M(0);function b(){l.setThrow(n.Strength,h.value),l.setThrow(n.Dexterity,d.value),l.setThrow(n.Constitution,u.value),l.setThrow(n.Intelligence,m.value),l.setThrow(n.Wisdom,A.value),l.setThrow(n.Charisma,x.value),t("nextStep")}return(g,k)=>{const S=C("p-input-number"),T=C("p-button");return f(),w(z,null,{title:r(()=>[ye]),content:r(()=>[o("div",xe,[o("div",Te,[o("div",ve,[o("div",ge,[_e,c(S,{class:"w-full",id:"strength",modelValue:h.value,"onUpdate:modelValue":k[0]||(k[0]=v=>h.value=v)},null,8,["modelValue"])]),o("div",we,[me,c(S,{class:"w-full",id:"dexterity",modelValue:d.value,"onUpdate:modelValue":k[1]||(k[1]=v=>d.value=v)},null,8,["modelValue"])])]),o("div",Ae,[o("div",Se,[Me,c(S,{class:"w-full",id:"name",modelValue:u.value,"onUpdate:modelValue":k[2]||(k[2]=v=>u.value=v)},null,8,["modelValue"])]),o("div",Pe,[Ne,c(S,{class:"w-full",id:"intelligence",modelValue:m.value,"onUpdate:modelValue":k[3]||(k[3]=v=>m.value=v)},null,8,["modelValue"])])]),o("div",He,[o("div",$e,[Ve,c(S,{class:"w-full",id:"wisdom",modelValue:A.value,"onUpdate:modelValue":k[4]||(k[4]=v=>A.value=v)},null,8,["modelValue"])]),o("div",Ue,[Be,c(S,{class:"w-full",id:"charisma",modelValue:x.value,"onUpdate:modelValue":k[5]||(k[5]=v=>x.value=v)},null,8,["modelValue"])])])])])]),footer:r(()=>[c(T,{label:"Next",onClick:b})]),_:1})}}}),Ie={class:"w-full h-full flex flex-col"},We={class:"grow"},Ge={class:"flex flex-none"};var G=(i=>(i[i.Basics=0]="Basics",i[i.Origin=1]="Origin",i[i.Race=2]="Race",i[i.Class=3]="Class",i[i.Throws=4]="Throws",i))(G||{});const Le=B({__name:"CharacterWizard",emits:["finish"],setup(i,{emit:e}){const t=e,l=I(),h=M(0),d=M([{id:0,label:G[0],component:Ce},{id:1,label:G[1],component:Yi},{id:2,label:G[2],component:oe},{id:3,label:G[3],component:he},{id:4,label:G[4],component:De}]);function u(){h.value=h.value+1,h.value>=d.value.length&&m()}function m(){l.finishCharacter(),t("finish")}return(A,x)=>{const b=C("p-steps");return f(),N("div",Ie,[o("div",We,[(f(!0),N(V,null,U(d.value,g=>(f(),N(V,null,[h.value===g.id?(f(),w(yi(g.component),{key:0,onNextStep:x[0]||(x[0]=k=>u())},null,32)):R("",!0)],64))),256))]),o("div",Ge,[c(b,{class:"w-full",activeStep:h.value,"onUpdate:activeStep":x[1]||(x[1]=g=>h.value=g),model:d.value},null,8,["activeStep","model"])])])}}}),Fe={class:"flex flex-col gap-8 px-16 py-12"},je={class:"flex justify-between"},qe=o("h1",null,"JAD Character Creator v.0",-1),Je={class:"flex gap-4"},Oe={class:"flex"},Xe=B({__name:"HomeView",setup(i){const e=O(),t=I();e.fetchOrigins(),e.fetchRaces(),e.fetchClasses();let l=M(!1),h=M({});function d(x){h.value=x,l.value=!0}let u=M(!1);function m(){t.initCharacter(),u.value=!0}function A(){u.value=!1}return(x,b)=>{const g=C("p-button"),k=C("p-card"),S=C("p-dialog");return f(),N(V,null,[o("div",Fe,[o("div",je,[qe,c(g,{label:"Create Character",onClick:m})]),o("div",Je,[(f(!0),N(V,null,U(y(e).getCharacters,T=>(f(),w(k,{class:"w-100"},{title:r(()=>[H(_(T.basics.name),1)]),subtitle:r(()=>[H(_(`${T.race.name} - ${T.characterClass.name} - ${T.origin.name}`),1)]),content:r(()=>[o("div",Oe,[c(g,{label:"Details",onClick:v=>d(T)},null,8,["onClick"])])]),_:2},1024))),256))])]),c(S,{visible:y(l),"onUpdate:visible":b[0]||(b[0]=T=>ii(l)?l.value=T:l=T)},{default:r(()=>[c(Hi,{character:y(h)},null,8,["character"])]),_:1},8,["visible"]),c(S,{visible:y(u),"onUpdate:visible":b[1]||(b[1]=T=>ii(u)?u.value=T:u=T),class:"bg-emerald-950 w-screen","content-style":"height: 100vh;"},{default:r(()=>[c(Le,{onFinish:A})]),_:1},8,["visible"])],64)}}});export{Xe as default};
